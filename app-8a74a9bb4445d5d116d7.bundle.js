!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1445)}({109:function(e,t){var n=e.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},110:function(e,t,n){var o=n(178);e.exports=function(e,t,n){if(o(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,o){return e.call(t,n,o)};case 3:return function(n,o,i){return e.call(t,n,o,i)}}return function(){return e.apply(t,arguments)}}},111:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},131:function(e,t){e.exports=!1},132:function(e,t){var n=0,o=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+o).toString(36))}},133:function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},134:function(e,t){e.exports={}},135:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},136:function(e,t,n){var o=n(543),i=n(272);e.exports=Object.keys||function(e){return o(e,i)}},1445:function(e,t,n){e.exports=n(1485)},1446:function(e,t,n){for(var o=n(538),i=n(136),r=n(88),s=n(29),a=n(74),c=n(134),u=n(25),l=u("iterator"),f=u("toStringTag"),h=c.Array,m={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(m),d=0;d<p.length;d++){var g,y=p[d],v=m[y],b=s[y],_=b&&b.prototype;if(_&&(_[l]||a(_,l,h),_[f]||a(_,f,y),c[y]=h,v))for(g in o)_[g]||r(_,g,o[g],!0)}},1447:function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},1448:function(e,t,n){"use strict";var o=n(131),i=n(87),r=n(88),s=n(74),a=n(134),c=n(1450),u=n(179),l=n(1454),f=n(25)("iterator"),h=!([].keys&&"next"in[].keys()),m=function(){return this};e.exports=function(e,t,n,p,d,g,y){c(n,t,p);var v,b,_,w=function(e){if(!h&&e in S)return S[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},x=t+" Iterator",k="values"==d,C=!1,S=e.prototype,O=S[f]||S["@@iterator"]||d&&S[d],P=O||w(d),E=d?k?w("entries"):P:void 0,T="Array"==t&&S.entries||O;if(T&&(_=l(T.call(new e)))!==Object.prototype&&_.next&&(u(_,x,!0),o||"function"==typeof _[f]||s(_,f,m)),k&&O&&"values"!==O.name&&(C=!0,P=function(){return O.call(this)}),o&&!y||!h&&!C&&S[f]||s(S,f,P),a[t]=P,a[x]=m,d)if(v={values:k?P:w("values"),keys:g?P:w("keys"),entries:E},y)for(b in v)b in S||r(S,b,v[b]);else i(i.P+i.F*(h||C),t,v);return v}},1449:function(e,t,n){e.exports=n(176)("native-function-to-string",Function.toString)},1450:function(e,t,n){"use strict";var o=n(542),i=n(177),r=n(179),s={};n(74)(s,n(25)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=o(s,{next:i(1,n)}),r(e,t+" Iterator")}},1451:function(e,t,n){var o=n(62),i=n(41),r=n(136);e.exports=n(64)?Object.defineProperties:function(e,t){i(e);for(var n,s=r(t),a=s.length,c=0;a>c;)o.f(e,n=s[c++],t[n]);return e}},1452:function(e,t,n){var o=n(86),i=n(270),r=n(1453);e.exports=function(e){return function(t,n,s){var a,c=o(t),u=i(c.length),l=r(s,u);if(e&&n!=n){for(;u>l;)if((a=c[l++])!=a)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}}},1453:function(e,t,n){var o=n(544),i=Math.max,r=Math.min;e.exports=function(e,t){return(e=o(e))<0?i(e+t,0):r(e,t)}},1454:function(e,t,n){var o=n(89),i=n(546),r=n(271)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),o(e,r)?e[r]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},1455:function(e,t,n){var o=n(87),i=n(1456)(!1);o(o.S,"Object",{values:function(e){return i(e)}})},1456:function(e,t,n){var o=n(136),i=n(86),r=n(181).f;e.exports=function(e){return function(t){for(var n,s=i(t),a=o(s),c=a.length,u=0,l=[];c>u;)r.call(s,n=a[u++])&&l.push(e?[n,s[n]]:s[n]);return l}}},1457:function(e,t,n){var o=n(132)("meta"),i=n(63),r=n(89),s=n(62).f,a=0,c=Object.isExtensible||function(){return!0},u=!n(133)(function(){return c(Object.preventExtensions({}))}),l=function(e){s(e,o,{value:{i:"O"+ ++a,w:{}}})},f=e.exports={KEY:o,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!r(e,o)){if(!c(e))return"F";if(!t)return"E";l(e)}return e[o].i},getWeak:function(e,t){if(!r(e,o)){if(!c(e))return!0;if(!t)return!1;l(e)}return e[o].w},onFreeze:function(e){return u&&f.NEED&&c(e)&&!r(e,o)&&l(e),e}}},1458:function(e,t,n){var o=n(136),i=n(549),r=n(181);e.exports=function(e){var t=o(e),n=i.f;if(n)for(var s,a=n(e),c=r.f,u=0;a.length>u;)c.call(e,s=a[u++])&&t.push(s);return t}},1459:function(e,t,n){var o=n(86),i=n(551).f,r={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"[object Window]"==r.call(e)?function(e){try{return i(e)}catch(e){return s.slice()}}(e):i(o(e))}},1460:function(e,t,n){var o=n(63),i=n(41),r=function(e,t){if(i(e),!o(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,o){try{(o=n(110)(Function.call,n(552).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return r(e,n),t?e.__proto__=n:o(e,n),e}}({},!1):void 0),check:r}},1461:function(e,t,n){var o=n(110),i=n(541),r=n(546),s=n(270),a=n(1462);e.exports=function(e,t){var n=1==e,c=2==e,u=3==e,l=4==e,f=6==e,h=5==e||f,m=t||a;return function(t,a,p){for(var d,g,y=r(t),v=i(y),b=o(a,p,3),_=s(v.length),w=0,x=n?m(t,_):c?m(t,0):void 0;_>w;w++)if((h||w in v)&&(g=b(d=v[w],w,y),e))if(n)x[w]=g;else if(g)switch(e){case 3:return!0;case 5:return d;case 6:return w;case 2:x.push(d)}else if(l)return!1;return f?-1:u||l?l:x}}},1462:function(e,t,n){var o=n(1463);e.exports=function(e,t){return new(o(e))(t)}},1463:function(e,t,n){var o=n(63),i=n(550),r=n(25)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),o(t)&&null===(t=t[r])&&(t=void 0)),void 0===t?Array:t}},1464:function(e,t,n){var o=n(62).f,i=Function.prototype,r=/^\s*function ([^ (]*)/;"name"in i||n(64)&&o(i,"name",{configurable:!0,get:function(){try{return(""+this).match(r)[1]}catch(e){return""}}})},1465:function(e,t,n){"use strict";var o=n(41),i=n(1466),r=n(1467);n(1468)("search",1,function(e,t,n,s){return[function(n){var o=e(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,o):new RegExp(n)[t](String(o))},function(e){var t=s(n,e,this);if(t.done)return t.value;var a=o(e),c=String(this),u=a.lastIndex;i(u,0)||(a.lastIndex=0);var l=r(a,c);return i(a.lastIndex,u)||(a.lastIndex=u),null===l?-1:l.index}]})},1466:function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},1467:function(e,t,n){"use strict";var o=n(180),i=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var r=n.call(e,t);if("object"!=typeof r)throw new TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==o(e))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},1468:function(e,t,n){"use strict";n(1469);var o=n(88),i=n(74),r=n(133),s=n(269),a=n(25),c=n(555),u=a("species"),l=!r(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),f=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var h=a(e),m=!r(function(){var t={};return t[h]=function(){return 7},7!=""[e](t)}),p=m?!r(function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[u]=function(){return n}),n[h](""),!t}):void 0;if(!m||!p||"replace"===e&&!l||"split"===e&&!f){var d=/./[h],g=n(s,h,""[e],function(e,t,n,o,i){return t.exec===c?m&&!i?{done:!0,value:d.call(t,n,o)}:{done:!0,value:e.call(n,t,o)}:{done:!1}}),y=g[0],v=g[1];o(String.prototype,e,y),i(RegExp.prototype,h,2==t?function(e,t){return v.call(e,this,t)}:function(e){return v.call(e,this)})}}},1469:function(e,t,n){"use strict";var o=n(555);n(87)({target:"RegExp",proto:!0,forced:o!==/./.exec},{exec:o})},1470:function(e,t){e.exports=function(e,t,n,o){if(!(e instanceof t)||void 0!==o&&o in e)throw TypeError(n+": incorrect invocation!");return e}},1471:function(e,t,n){var o=n(110),i=n(1472),r=n(1473),s=n(41),a=n(270),c=n(1474),u={},l={};(t=e.exports=function(e,t,n,f,h){var m,p,d,g,y=h?function(){return e}:c(e),v=o(n,f,t?2:1),b=0;if("function"!=typeof y)throw TypeError(e+" is not iterable!");if(r(y)){for(m=a(e.length);m>b;b++)if((g=t?v(s(p=e[b])[0],p[1]):v(e[b]))===u||g===l)return g}else for(d=y.call(e);!(p=d.next()).done;)if((g=i(d,v,p.value,t))===u||g===l)return g}).BREAK=u,t.RETURN=l},1472:function(e,t,n){var o=n(41);e.exports=function(e,t,n,i){try{return i?t(o(n)[0],n[1]):t(n)}catch(t){var r=e.return;throw void 0!==r&&o(r.call(e)),t}}},1473:function(e,t,n){var o=n(134),i=n(25)("iterator"),r=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||r[i]===e)}},1474:function(e,t,n){var o=n(180),i=n(25)("iterator"),r=n(134);e.exports=n(109).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||r[o(e)]}},1475:function(e,t,n){var o=n(41),i=n(178),r=n(25)("species");e.exports=function(e,t){var n,s=o(e).constructor;return void 0===s||null==(n=o(s)[r])?t:i(n)}},1476:function(e,t){e.exports=function(e,t,n){var o=void 0===n;switch(t.length){case 0:return o?e():e.call(n);case 1:return o?e(t[0]):e.call(n,t[0]);case 2:return o?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return o?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return o?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},1477:function(e,t,n){var o=n(29),i=n(557).set,r=o.MutationObserver||o.WebKitMutationObserver,s=o.process,a=o.Promise,c="process"==n(135)(s);e.exports=function(){var e,t,n,u=function(){var o,i;for(c&&(o=s.domain)&&o.exit();e;){i=e.fn,e=e.next;try{i()}catch(o){throw e?n():t=void 0,o}}t=void 0,o&&o.enter()};if(c)n=function(){s.nextTick(u)};else if(!r||o.navigator&&o.navigator.standalone)if(a&&a.resolve){var l=a.resolve(void 0);n=function(){l.then(u)}}else n=function(){i.call(o,u)};else{var f=!0,h=document.createTextNode("");new r(u).observe(h,{characterData:!0}),n=function(){h.data=f=!f}}return function(o){var i={fn:o,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},1478:function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},1479:function(e,t,n){var o=n(29).navigator;e.exports=o&&o.userAgent||""},1480:function(e,t,n){var o=n(41),i=n(63),r=n(558);e.exports=function(e,t){if(o(e),i(t)&&t.constructor===e)return t;var n=r.f(e);return(0,n.resolve)(t),n.promise}},1481:function(e,t,n){var o=n(88);e.exports=function(e,t,n){for(var i in t)o(e,i,t[i],n);return e}},1482:function(e,t,n){"use strict";var o=n(29),i=n(62),r=n(64),s=n(25)("species");e.exports=function(e){var t=o[e];r&&t&&!t[s]&&i.f(t,s,{configurable:!0,get:function(){return this}})}},1483:function(e,t,n){var o=n(25)("iterator"),i=!1;try{var r=[7][o]();r.return=function(){i=!0},Array.from(r,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var r=[7],s=r[o]();s.next=function(){return{done:n=!0}},r[o]=function(){return s},e(r)}catch(e){}return n}},1484:function(e,t,n){(function(e){var t;!function(){return function e(n,o,i){function r(a,c){if(!o[a]){if(!n[a]){if(!c&&"function"==typeof t&&t)return t(a,!0);if(s)return s(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=o[a]={exports:{}};n[a][0].call(l.exports,function(e){return r(n[a][1][e]||e)},l,l.exports,e,n,o,i)}return o[a].exports}for(var s="function"==typeof t&&t,a=0;a<i.length;a++)r(i[a]);return r}}()({1:[function(e,t,n){"use strict";t.exports={client:e("./lib/client"),Client:e("./lib/client")}},{"./lib/client":3}],2:[function(e,t,n){"use strict";var o=e("request"),i=e("./utils");t.exports=function(e,t){var n=null===i.get(e.url,null)?i.get(e.uri,null):i.get(e.url,null);if(i.isURL(n)||(n="https://api.twitch.tv/kraken"+("/"===n[0]?n:"/"+n)),i.isNode())o(i.merge({method:"GET",json:!0},e,{url:n}),t);else if(i.isExtension()){e=i.merge({url:n,method:"GET",headers:{}},e);var r=new XMLHttpRequest;for(var s in r.open(e.method,e.url,!0),e.headers)r.setRequestHeader(s,e.headers[s]);r.responseType="json",r.addEventListener("load",function(e){4==r.readyState&&(200!=r.status?t(r.status,null,null):t(null,null,r.response))}),r.send()}else{var a="jsonp_callback_"+Math.round(1e5*Math.random());window[a]=function(e){delete window[a],document.body.removeChild(c),t(null,null,e)};var c=document.createElement("script");c.src=n+(n.includes("?")?"&":"?")+"callback="+a,document.body.appendChild(c)}}},{"./utils":10,request:11}],3:[function(t,n,o){(function(e){"use strict";var o=t("./api"),i=t("./commands"),r=t("./events").EventEmitter,s=t("./logger"),a=t("./parser"),c=t("./timer"),u=t("./extra-utils"),l=e.WebSocket||e.MozWebSocket||t("ws"),f=t("./utils"),h=function e(t){if(this instanceof e==0)return new e(t);this.setMaxListeners(0),this.opts=f.get(t,{}),this.opts.channels=this.opts.channels||[],this.opts.connection=this.opts.connection||{},this.opts.identity=this.opts.identity||{},this.opts.options=this.opts.options||{},this.clientId=f.get(this.opts.options.clientId,null),this.maxReconnectAttempts=f.get(this.opts.connection.maxReconnectAttempts,1/0),this.maxReconnectInterval=f.get(this.opts.connection.maxReconnectInterval,3e4),this.reconnect=f.get(this.opts.connection.reconnect,!1),this.reconnectDecay=f.get(this.opts.connection.reconnectDecay,1.5),this.reconnectInterval=f.get(this.opts.connection.reconnectInterval,1e3),this.reconnecting=!1,this.reconnections=0,this.reconnectTimer=this.reconnectInterval,this.secure=f.get(this.opts.connection.secure,!1),this.emotes="",this.emotesets={},this.channels=[],this.currentLatency=0,this.globaluserstate={},this.lastJoined="",this.latency=new Date,this.moderators={},this.pingLoop=null,this.pingTimeout=null,this.reason="",this.username="",this.userstate={},this.wasCloseCalled=!1,this.ws=null;var n="error";this.opts.options.debug&&(n="info"),this.log=this.opts.logger||s;try{s.setLevel(n)}catch(e){}this.opts.channels.forEach(function(e,t,n){n[t]=f.channel(e)}),r.call(this)};for(var m in f.inherits(h,r),h.prototype.api=o,i)h.prototype[m]=i[m];h.prototype.handleMessage=function(e){var t=this;if(!f.isNull(e)){this.emit("raw_message",JSON.parse(JSON.stringify(e)),e);var n=f.channel(f.get(e.params[0],null)),o=f.get(e.params[1],null),i=f.get(e.tags["msg-id"],null);if(e.tags=a.badges(a.emotes(e.tags)),e.tags)for(var r in e.tags)"emote-sets"!==r&&"ban-duration"!==r&&"bits"!==r&&(f.isBoolean(e.tags[r])?e.tags[r]=null:"1"===e.tags[r]?e.tags[r]=!0:"0"===e.tags[r]&&(e.tags[r]=!1));if(f.isNull(e.prefix))switch(e.command){case"PING":this.emit("ping"),f.isNull(this.ws)||2===this.ws.readyState||3===this.ws.readyState||this.ws.send("PONG");break;case"PONG":var s=new Date;this.currentLatency=(s.getTime()-this.latency.getTime())/1e3,this.emits(["pong","_promisePing"],[[this.currentLatency]]),clearTimeout(this.pingTimeout);break;default:this.log.warn("Could not parse message with no prefix:\n"+JSON.stringify(e,null,4))}else if("tmi.twitch.tv"===e.prefix)switch(e.command){case"002":case"003":case"004":case"375":case"376":case"CAP":break;case"001":this.username=e.params[0];break;case"372":this.log.info("Connected to server."),this.userstate["#tmijs"]={},this.emits(["connected","_promiseConnect"],[[this.server,this.port],[null]]),this.reconnections=0,this.reconnectTimer=this.reconnectInterval,this.pingLoop=setInterval(function(){f.isNull(t.ws)||2===t.ws.readyState||3===t.ws.readyState||t.ws.send("PING"),t.latency=new Date,t.pingTimeout=setTimeout(function(){f.isNull(t.ws)||(t.wasCloseCalled=!1,t.log.error("Ping timeout."),t.ws.close(),clearInterval(t.pingLoop),clearTimeout(t.pingTimeout))},f.get(t.opts.connection.timeout,9999))},6e4);var u=new c.queue(2e3),l=f.union(this.opts.channels,this.channels);this.channels=[];for(var h=0;h<l.length;h++){var m=this;u.add(function(e){f.isNull(m.ws)||2===m.ws.readyState||3===m.ws.readyState||m.ws.send("JOIN "+f.channel(l[e]))}.bind(this,h))}u.run();break;case"NOTICE":var p=[null],d=[n,i,o],g=[n,!0],y=[n,!1],v=[d,p],b=[d,[i]],_="["+n+"] "+o;switch(i){case"subs_on":this.log.info("["+n+"] This room is now in subscribers-only mode."),this.emits(["subscriber","subscribers","_promiseSubscribers"],[g,g,p]);break;case"subs_off":this.log.info("["+n+"] This room is no longer in subscribers-only mode."),this.emits(["subscriber","subscribers","_promiseSubscribersoff"],[y,y,p]);break;case"emote_only_on":this.log.info("["+n+"] This room is now in emote-only mode."),this.emits(["emoteonly","_promiseEmoteonly"],[g,p]);break;case"emote_only_off":this.log.info("["+n+"] This room is no longer in emote-only mode."),this.emits(["emoteonly","_promiseEmoteonlyoff"],[y,p]);break;case"slow_on":case"slow_off":break;case"followers_on_zero":case"followers_on":case"followers_off":break;case"r9k_on":this.log.info("["+n+"] This room is now in r9k mode."),this.emits(["r9kmode","r9kbeta","_promiseR9kbeta"],[g,g,p]);break;case"r9k_off":this.log.info("["+n+"] This room is no longer in r9k mode."),this.emits(["r9kmode","r9kbeta","_promiseR9kbetaoff"],[y,y,p]);break;case"room_mods":var w=o.split(": ")[1].toLowerCase().split(", ").filter(function(e){return e});this.emits(["_promiseMods","mods"],[[null,w],[n,w]]);break;case"no_mods":this.emits(["_promiseMods","mods"],[[null,[]],[n,[]]]);break;case"vips_success":o.endsWith(".")&&(o=o.slice(0,-1));var x=o.split(": ")[1].toLowerCase().split(", ").filter(function(e){return e});this.emits(["_promiseVips","vips"],[[null,x],[n,x]]);break;case"no_vips":this.emits(["_promiseVips","vips"],[[null,[]],[n,[]]]);break;case"already_banned":case"bad_ban_admin":case"bad_ban_broadcaster":case"bad_ban_global_mod":case"bad_ban_self":case"bad_ban_staff":case"usage_ban":this.log.info(_),this.emits(["notice","_promiseBan"],b);break;case"ban_success":this.log.info(_),this.emits(["notice","_promiseBan"],v);break;case"usage_clear":this.log.info(_),this.emits(["notice","_promiseClear"],b);break;case"usage_mods":this.log.info(_),this.emits(["notice","_promiseMods"],[d,[i,[]]]);break;case"mod_success":this.log.info(_),this.emits(["notice","_promiseMod"],v);break;case"usage_vips":this.log.info(_),this.emits(["notice","_promiseVips"],[d,[i,[]]]);break;case"usage_vip":case"bad_vip_grantee_banned":case"bad_vip_grantee_already_vip":this.log.info(_),this.emits(["notice","_promiseVip"],[d,[i,[]]]);break;case"vip_success":this.log.info(_),this.emits(["notice","_promiseVip"],v);break;case"usage_mod":case"bad_mod_banned":case"bad_mod_mod":this.log.info(_),this.emits(["notice","_promiseMod"],b);break;case"unmod_success":this.log.info(_),this.emits(["notice","_promiseUnmod"],v);break;case"unvip_success":this.log.info(_),this.emits(["notice","_promiseUnvip"],v);break;case"usage_unmod":case"bad_unmod_mod":this.log.info(_),this.emits(["notice","_promiseUnmod"],b);break;case"usage_unvip":case"bad_unvip_grantee_not_vip":this.log.info(_),this.emits(["notice","_promiseUnvip"],b);break;case"color_changed":this.log.info(_),this.emits(["notice","_promiseColor"],v);break;case"usage_color":case"turbo_only_color":this.log.info(_),this.emits(["notice","_promiseColor"],b);break;case"commercial_success":this.log.info(_),this.emits(["notice","_promiseCommercial"],v);break;case"usage_commercial":case"bad_commercial_error":this.log.info(_),this.emits(["notice","_promiseCommercial"],b);break;case"hosts_remaining":this.log.info(_);var k=isNaN(o[0])?0:parseInt(o[0]);this.emits(["notice","_promiseHost"],[d,[null,~~k]]);break;case"bad_host_hosting":case"bad_host_rate_exceeded":case"bad_host_error":case"usage_host":this.log.info(_),this.emits(["notice","_promiseHost"],[d,[i,null]]);break;case"already_r9k_on":case"usage_r9k_on":this.log.info(_),this.emits(["notice","_promiseR9kbeta"],b);break;case"already_r9k_off":case"usage_r9k_off":this.log.info(_),this.emits(["notice","_promiseR9kbetaoff"],b);break;case"timeout_success":this.log.info(_),this.emits(["notice","_promiseTimeout"],v);break;case"delete_message_success":this.log.info("["+n+" "+o+"]"),this.emits(["notice","_promiseDeletemessage"],v);case"already_subs_off":case"usage_subs_off":this.log.info(_),this.emits(["notice","_promiseSubscribersoff"],b);break;case"already_subs_on":case"usage_subs_on":this.log.info(_),this.emits(["notice","_promiseSubscribers"],b);break;case"already_emote_only_off":case"usage_emote_only_off":this.log.info(_),this.emits(["notice","_promiseEmoteonlyoff"],b);break;case"already_emote_only_on":case"usage_emote_only_on":this.log.info(_),this.emits(["notice","_promiseEmoteonly"],b);break;case"usage_slow_on":this.log.info(_),this.emits(["notice","_promiseSlow"],b);break;case"usage_slow_off":this.log.info(_),this.emits(["notice","_promiseSlowoff"],b);break;case"usage_timeout":case"bad_timeout_admin":case"bad_timeout_broadcaster":case"bad_timeout_duration":case"bad_timeout_global_mod":case"bad_timeout_self":case"bad_timeout_staff":this.log.info(_),this.emits(["notice","_promiseTimeout"],b);break;case"untimeout_success":case"unban_success":this.log.info(_),this.emits(["notice","_promiseUnban"],v);break;case"usage_unban":case"bad_unban_no_ban":this.log.info(_),this.emits(["notice","_promiseUnban"],b);break;case"usage_delete":case"bad_delete_message_error":case"bad_delete_message_broadcaster":case"bad_delete_message_mod":this.log.info(_),this.emits(["notice","_promiseDeletemessage"],b);break;case"usage_unhost":case"not_hosting":this.log.info(_),this.emits(["notice","_promiseUnhost"],b);break;case"whisper_invalid_login":case"whisper_invalid_self":case"whisper_limit_per_min":case"whisper_limit_per_sec":case"whisper_restricted_recipient":this.log.info(_),this.emits(["notice","_promiseWhisper"],b);break;case"no_permission":case"msg_banned":case"msg_room_not_found":case"msg_channel_suspended":case"tos_ban":this.log.info(_),this.emits(["notice","_promiseBan","_promiseClear","_promiseUnban","_promiseTimeout","_promiseDeletemessage","_promiseMods","_promiseMod","_promiseUnmod","_promiseVips","_promiseVip","_promiseUnvip","_promiseCommercial","_promiseHost","_promiseUnhost","_promiseJoin","_promisePart","_promiseR9kbeta","_promiseR9kbetaoff","_promiseSlow","_promiseSlowoff","_promiseFollowers","_promiseFollowersoff","_promiseSubscribers","_promiseSubscribersoff","_promiseEmoteonly","_promiseEmoteonlyoff"],b);break;case"unrecognized_cmd":this.log.info(_),this.emit("notice",n,i,o),"/w"===o.split(" ").splice(-1)[0]&&this.log.warn("You must be connected to a group server to send or receive whispers.");break;case"cmds_available":case"host_target_went_offline":case"msg_censored_broadcaster":case"msg_duplicate":case"msg_emoteonly":case"msg_verified_email":case"msg_ratelimit":case"msg_subsonly":case"msg_timedout":case"msg_bad_characters":case"msg_channel_blocked":case"msg_facebook":case"msg_followersonly":case"msg_followersonly_followed":case"msg_followersonly_zero":case"msg_rejected":case"msg_slowmode":case"msg_suspended":case"no_help":case"usage_disconnect":case"usage_help":case"usage_me":this.log.info(_),this.emit("notice",n,i,o);break;case"host_on":case"host_off":break;default:o.includes("Login unsuccessful")||o.includes("Login authentication failed")?(this.wasCloseCalled=!1,this.reconnect=!1,this.reason=o,this.log.error(this.reason),this.ws.close()):o.includes("Error logging in")||o.includes("Improperly formatted auth")?(this.wasCloseCalled=!1,this.reconnect=!1,this.reason=o,this.log.error(this.reason),this.ws.close()):o.includes("Invalid NICK")?(this.wasCloseCalled=!1,this.reconnect=!1,this.reason="Invalid NICK.",this.log.error(this.reason),this.ws.close()):this.log.warn("Could not parse NOTICE from tmi.twitch.tv:\n"+JSON.stringify(e,null,4))}break;case"USERNOTICE":var C=e.tags["display-name"]||e.tags.login,S=e.tags["msg-param-sub-plan"]||"",O=f.unescapeIRC(f.get(e.tags["msg-param-sub-plan-name"],""))||null,P=S.includes("Prime"),E=e.tags,T=~~(e.tags["msg-param-streak-months"]||0),j=e.tags["msg-param-recipient-display-name"]||e.tags["msg-param-recipient-user-name"],R=~~e.tags["msg-param-mass-gift-count"],L={prime:P,plan:S,planName:O};switch(E["message-type"]=i,i){case"resub":this.emits(["resub","subanniversary"],[[n,C,T,o,E,L]]);break;case"sub":this.emit("subscription",n,C,L,o,E);break;case"subgift":this.emit("subgift",n,C,T,j,L,E);break;case"anonsubgift":this.emit("anonsubgift",n,T,j,L,E);break;case"submysterygift":this.emit("submysterygift",n,C,R,L,E);break;case"anonsubmysterygift":this.emit("anonsubmysterygift",n,R,L,E);break;case"giftpaidupgrade":var M=e.tags["msg-param-sender-name"]||e.tags["msg-param-sender-login"];this.emit("giftpaidupgrade",n,C,M,E);break;case"anongiftpaidupgrade":this.emit("anongiftpaidupgrade",n,C,E);break;case"raid":C=e.tags["msg-param-displayName"]||e.tags["msg-param-login"];var N=e.tags["msg-param-viewerCount"];this.emit("raided",n,C,N)}break;case"HOSTTARGET":var A=o.split(" ");N=~~A[1]||0;"-"===A[0]?(this.log.info("["+n+"] Exited host mode."),this.emits(["unhost","_promiseUnhost"],[[n,N],[null]])):(this.log.info("["+n+"] Now hosting "+A[0]+" for "+N+" viewer(s)."),this.emit("hosting",n,A[0],N));break;case"CLEARCHAT":if(e.params.length>1){var I=f.get(e.tags["ban-duration"],null);f.isNull(I)?(this.log.info("["+n+"] "+o+" has been banned."),this.emit("ban",n,o,null,e.tags)):(this.log.info("["+n+"] "+o+" has been timed out for "+I+" seconds."),this.emit("timeout",n,o,null,~~I,e.tags))}else this.log.info("["+n+"] Chat was cleared by a moderator."),this.emits(["clearchat","_promiseClear"],[[n],[null]]);break;case"CLEARMSG":if(e.params.length>1){C=e.tags.login;var D=o;(E=e.tags)["message-type"]="messagedeleted",this.log.info("["+n+"] "+C+"'s message has been deleted."),this.emit("messagedeleted",n,C,D,E)}break;case"RECONNECT":this.log.info("Received RECONNECT request from Twitch.."),this.log.info("Disconnecting and reconnecting in "+Math.round(this.reconnectTimer/1e3)+" seconds.."),this.disconnect(),setTimeout(function(){t.connect()},this.reconnectTimer);break;case"SERVERCHANGE":break;case"USERSTATE":e.tags.username=this.username,"mod"===e.tags["user-type"]&&(this.moderators[this.lastJoined]||(this.moderators[this.lastJoined]=[]),this.moderators[this.lastJoined].includes(this.username)||this.moderators[this.lastJoined].push(this.username)),f.isJustinfan(this.getUsername())||this.userstate[n]||(this.userstate[n]=e.tags,this.lastJoined=n,this.channels.push(n),this.log.info("Joined "+n),this.emit("join",n,f.username(this.getUsername()),!0)),e.tags["emote-sets"]!==this.emotes&&this._updateEmoteset(e.tags["emote-sets"]),this.userstate[n]=e.tags;break;case"GLOBALUSERSTATE":this.globaluserstate=e.tags,void 0!==e.tags["emote-sets"]&&this._updateEmoteset(e.tags["emote-sets"]);break;case"ROOMSTATE":if(f.channel(this.lastJoined)===f.channel(e.params[0])&&this.emit("_promiseJoin",null),e.tags.channel=f.channel(e.params[0]),this.emit("roomstate",f.channel(e.params[0]),e.tags),!e.tags.hasOwnProperty("subs-only")){if(e.tags.hasOwnProperty("slow"))if("boolean"!=typeof e.tags.slow||e.tags.slow){var G=~~e.tags.slow;this.log.info("["+n+"] This room is now in slow mode."),this.emits(["slow","slowmode","_promiseSlow"],[[n,!0,G],[n,!0,G],[null]])}else this.log.info("["+n+"] This room is no longer in slow mode."),this.emits(["slow","slowmode","_promiseSlowoff"],[[n,!1,0],[n,!1,0],[null]]);if(e.tags.hasOwnProperty("followers-only"))if("-1"===e.tags["followers-only"])this.log.info("["+n+"] This room is no longer in followers-only mode."),this.emits(["followersonly","followersmode","_promiseFollowersoff"],[[n,!1,0],[n,!1,0],[null]]);else{G=~~e.tags["followers-only"];this.log.info("["+n+"] This room is now in follower-only mode."),this.emits(["followersonly","followersmode","_promiseFollowers"],[[n,!0,G],[n,!0,G],[null]])}}break;default:this.log.warn("Could not parse message from tmi.twitch.tv:\n"+JSON.stringify(e,null,4))}else if("jtv"===e.prefix)switch(e.command){case"MODE":"+o"===o?(this.moderators[n]||(this.moderators[n]=[]),this.moderators[n].includes(e.params[2])||this.moderators[n].push(e.params[2]),this.emit("mod",n,e.params[2])):"-o"===o&&(this.moderators[n]||(this.moderators[n]=[]),this.moderators[n].filter(function(t){return t!=e.params[2]}),this.emit("unmod",n,e.params[2]));break;default:this.log.warn("Could not parse message from jtv:\n"+JSON.stringify(e,null,4))}else switch(e.command){case"353":this.emit("names",e.params[2],e.params[3].split(" "));break;case"366":break;case"JOIN":var B=e.prefix.split("!")[0];f.isJustinfan(this.getUsername())&&this.username===B&&(this.lastJoined=n,this.channels.push(n),this.log.info("Joined "+n),this.emit("join",n,B,!0)),this.username!==B&&this.emit("join",n,B,!1);break;case"PART":var F,W=!1;B=e.prefix.split("!")[0];if(this.username===B)W=!0,this.userstate[n]&&delete this.userstate[n],-1!==(F=this.channels.indexOf(n))&&this.channels.splice(F,1),-1!==(F=this.opts.channels.indexOf(n))&&this.opts.channels.splice(F,1),this.log.info("Left "+n),this.emit("_promisePart",null);this.emit("part",n,B,W);break;case"WHISPER":B=e.prefix.split("!")[0];this.log.info("[WHISPER] <"+B+">: "+o),e.tags.hasOwnProperty("username")||(e.tags.username=B),e.tags["message-type"]="whisper";var z=f.channel(e.tags.username);this.emits(["whisper","message"],[[z,e.tags,o,!1]]);break;case"PRIVMSG":if(e.tags.username=e.prefix.split("!")[0],"jtv"===e.tags.username){var U=f.username(o.split(" ")[0]),H=o.includes("auto");if(o.includes("hosting you for")){var J=f.extractNumber(o);this.emit("hosted",n,U,J,H)}else o.includes("hosting you")&&this.emit("hosted",n,U,0,H)}else{var V=f.actionMessage(o);V?(e.tags["message-type"]="action",this.log.info("["+n+"] *<"+e.tags.username+">: "+V[1]),this.emits(["action","message"],[[n,e.tags,V[1],!1]])):e.tags.hasOwnProperty("bits")?this.emit("cheer",n,e.tags,o):(e.tags["message-type"]="chat",this.log.info("["+n+"] <"+e.tags.username+">: "+o),this.emits(["chat","message"],[[n,e.tags,o,!1]]))}break;default:this.log.warn("Could not parse message:\n"+JSON.stringify(e,null,4))}}},h.prototype.connect=function(){var e=this;return new Promise(function(t,n){e.server=f.get(e.opts.connection.server,"irc-ws.chat.twitch.tv"),e.port=f.get(e.opts.connection.port,80),e.secure&&(e.port=443),443===e.port&&(e.secure=!0),e.reconnectTimer=e.reconnectTimer*e.reconnectDecay,e.reconnectTimer>=e.maxReconnectInterval&&(e.reconnectTimer=e.maxReconnectInterval),e._openConnection(),e.once("_promiseConnect",function(o){o?n(o):t([e.server,~~e.port])})})},h.prototype._openConnection=function(){this.ws=new l((this.secure?"wss":"ws")+"://"+this.server+":"+this.port+"/","irc"),this.ws.onmessage=this._onMessage.bind(this),this.ws.onerror=this._onError.bind(this),this.ws.onclose=this._onClose.bind(this),this.ws.onopen=this._onOpen.bind(this)},h.prototype._onOpen=function(){f.isNull(this.ws)||1!==this.ws.readyState||(this.log.info("Connecting to "+this.server+" on port "+this.port+".."),this.emit("connecting",this.server,~~this.port),this.username=f.get(this.opts.identity.username,f.justinfan()),this.password=f.password(f.get(this.opts.identity.password,"SCHMOOPIIE")),this.log.info("Sending authentication to server.."),this.emit("logon"),this.ws.send("CAP REQ :twitch.tv/tags twitch.tv/commands twitch.tv/membership"),this.ws.send("PASS "+this.password),this.ws.send("NICK "+this.username),this.ws.send("USER "+this.username+" 8 * :"+this.username))},h.prototype._onMessage=function(e){var t=this;e.data.split("\r\n").forEach(function(e){f.isNull(e)||t.handleMessage(a.msg(e))})},h.prototype._onError=function(){var e=this;this.moderators={},this.userstate={},this.globaluserstate={},clearInterval(this.pingLoop),clearTimeout(this.pingTimeout),this.reason=f.isNull(this.ws)?"Connection closed.":"Unable to connect.",this.emits(["_promiseConnect","disconnected"],[[this.reason]]),this.reconnect&&this.reconnections===this.maxReconnectAttempts&&(this.emit("maxreconnect"),this.log.error("Maximum reconnection attempts reached.")),this.reconnect&&!this.reconnecting&&this.reconnections<=this.maxReconnectAttempts-1&&(this.reconnecting=!0,this.reconnections=this.reconnections+1,this.log.error("Reconnecting in "+Math.round(this.reconnectTimer/1e3)+" seconds.."),this.emit("reconnect"),setTimeout(function(){e.reconnecting=!1,e.connect()},this.reconnectTimer)),this.ws=null},h.prototype._onClose=function(){var e=this;this.moderators={},this.userstate={},this.globaluserstate={},clearInterval(this.pingLoop),clearTimeout(this.pingTimeout),this.wasCloseCalled?(this.wasCloseCalled=!1,this.reason="Connection closed.",this.log.info(this.reason),this.emits(["_promiseConnect","_promiseDisconnect","disconnected"],[[this.reason],[null],[this.reason]])):(this.emits(["_promiseConnect","disconnected"],[[this.reason]]),this.reconnect&&this.reconnections===this.maxReconnectAttempts&&(this.emit("maxreconnect"),this.log.error("Maximum reconnection attempts reached.")),this.reconnect&&!this.reconnecting&&this.reconnections<=this.maxReconnectAttempts-1&&(this.reconnecting=!0,this.reconnections=this.reconnections+1,this.log.error("Could not connect to server. Reconnecting in "+Math.round(this.reconnectTimer/1e3)+" seconds.."),this.emit("reconnect"),setTimeout(function(){e.reconnecting=!1,e.connect()},this.reconnectTimer))),this.ws=null},h.prototype._getPromiseDelay=function(){return this.currentLatency<=600?600:this.currentLatency+100},h.prototype._sendCommand=function(e,t,n,o){var i=this;return new Promise(function(r,s){if(f.promiseDelay(e).then(function(){s("No response from Twitch.")}),f.isNull(i.ws)||2===i.ws.readyState||3===i.ws.readyState)s("Not connected to server.");else{if(f.isNull(t))i.log.info("Executing command: "+n),i.ws.send(n);else{var a=f.channel(t);i.log.info("["+a+"] Executing command: "+n),i.ws.send("PRIVMSG "+a+" :"+n)}o(r,s)}})},h.prototype._sendMessage=function(e,t,n,o){var i=this;return new Promise(function(r,s){if(f.isNull(i.ws)||2===i.ws.readyState||3===i.ws.readyState||f.isJustinfan(i.getUsername()))s("Not connected to server.");else{var c=f.channel(t);if(i.userstate[c]||(i.userstate[c]={}),n.length>=500){var u=f.splitLine(n,500);n=u[0],setTimeout(function(){i._sendMessage(e,t,u[1],function(){})},350)}i.ws.send("PRIVMSG "+c+" :"+n);var l={};Object.keys(i.emotesets).forEach(function(e){i.emotesets[e].forEach(function(e){return f.isRegex(e.code)?a.emoteRegex(n,e.code,e.id,l):void a.emoteString(n,e.code,e.id,l)})});var h=f.merge(i.userstate[c],a.emotes({emotes:a.transformEmotes(l)||null})),m=f.actionMessage(n);m?(h["message-type"]="action",i.log.info("["+c+"] *<"+i.getUsername()+">: "+m[1]),i.emits(["action","message"],[[c,h,m[1],!0]])):(h["message-type"]="chat",i.log.info("["+c+"] <"+i.getUsername()+">: "+n),i.emits(["chat","message"],[[c,h,n,!0]])),o(r,s)}})},h.prototype._updateEmoteset=function(e){var t=this;this.emotes=e,this.api({url:"/chat/emoticon_images?emotesets="+e,headers:{Authorization:"OAuth "+f.password(f.get(this.opts.identity.password,"")).replace("oauth:",""),"Client-ID":this.clientId}},function(n,o,i){return n?void setTimeout(function(){t._updateEmoteset(e)},6e4):(t.emotesets=i.emoticon_sets||{},t.emit("emotesets",e,t.emotesets))})},h.prototype.getUsername=function(){return this.username},h.prototype.getOptions=function(){return this.opts},h.prototype.getChannels=function(){return this.channels},h.prototype.isMod=function(e,t){var n=f.channel(e);return this.moderators[n]||(this.moderators[n]=[]),this.moderators[n].includes(f.username(t))},h.prototype.readyState=function(){return f.isNull(this.ws)?"CLOSED":["CONNECTING","OPEN","CLOSING","CLOSED"][this.ws.readyState]},h.prototype.disconnect=function(){var e=this;return new Promise(function(t,n){f.isNull(e.ws)||3===e.ws.readyState?(e.log.error("Cannot disconnect from server. Socket is not opened or connection is already closing."),n("Cannot disconnect from server. Socket is not opened or connection is already closing.")):(e.wasCloseCalled=!0,e.log.info("Disconnecting from server.."),e.ws.close(),e.once("_promiseDisconnect",function(){t([e.server,~~e.port])}))})},h.prototype.utils=u,void 0!==n&&n.exports&&(n.exports=h),"undefined"!=typeof window&&(window.tmi={},window.tmi.client=h,window.tmi.Client=h)}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./api":2,"./commands":4,"./events":5,"./extra-utils":6,"./logger":7,"./parser":8,"./timer":9,"./utils":10,ws:11}],4:[function(e,t,n){"use strict";function o(e,t){var n=this;return e=l.channel(e),t=l.get(t,30),this._sendCommand(this._getPromiseDelay(),e,"/followers "+t,function(o,i){n.once("_promiseFollowers",function(n){n?i(n):o([e,~~t])})})}function i(e){var t=this;return e=l.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/followersoff",function(n,o){t.once("_promiseFollowersoff",function(t){t?o(t):n([e])})})}function r(e){var t=this;return e=l.channel(e),this._sendCommand(this._getPromiseDelay(),null,"PART "+e,function(n,o){t.once("_promisePart",function(t){t?o(t):n([e])})})}function s(e){var t=this;return e=l.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/r9kbeta",function(n,o){t.once("_promiseR9kbeta",function(t){t?o(t):n([e])})})}function a(e){var t=this;return e=l.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/r9kbetaoff",function(n,o){t.once("_promiseR9kbetaoff",function(t){t?o(t):n([e])})})}function c(e,t){var n=this;return e=l.channel(e),t=l.get(t,300),this._sendCommand(this._getPromiseDelay(),e,"/slow "+t,function(o,i){n.once("_promiseSlow",function(n){n?i(n):o([e,~~t])})})}function u(e){var t=this;return e=l.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/slowoff",function(n,o){t.once("_promiseSlowoff",function(t){t?o(t):n([e])})})}var l=e("./utils");t.exports={action:function(e,t){return e=l.channel(e),t="ACTION "+t+"",this._sendMessage(this._getPromiseDelay(),e,t,function(n,o){n([e,t])})},ban:function(e,t,n){var o=this;return e=l.channel(e),t=l.username(t),n=l.get(n,""),this._sendCommand(this._getPromiseDelay(),e,"/ban "+t+" "+n,function(i,r){o.once("_promiseBan",function(o){o?r(o):i([e,t,n])})})},clear:function(e){var t=this;return e=l.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/clear",function(n,o){t.once("_promiseClear",function(t){t?o(t):n([e])})})},color:function(e,t){var n=this;return t=l.get(t,e),this._sendCommand(this._getPromiseDelay(),"#tmijs","/color "+t,function(e,o){n.once("_promiseColor",function(n){n?o(n):e([t])})})},commercial:function(e,t){var n=this;return e=l.channel(e),t=l.get(t,30),this._sendCommand(this._getPromiseDelay(),e,"/commercial "+t,function(o,i){n.once("_promiseCommercial",function(n){n?i(n):o([e,~~t])})})},deletemessage:function(e,t){var n=this;return e=l.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/delete "+t,function(t,o){n.once("_promiseDeletemessage",function(n){n?o(n):t([e])})})},emoteonly:function(e){var t=this;return e=l.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/emoteonly",function(n,o){t.once("_promiseEmoteonly",function(t){t?o(t):n([e])})})},emoteonlyoff:function(e){var t=this;return e=l.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/emoteonlyoff",function(n,o){t.once("_promiseEmoteonlyoff",function(t){t?o(t):n([e])})})},followersonly:o,followersmode:o,followersonlyoff:i,followersmodeoff:i,host:function(e,t){var n=this;return e=l.channel(e),t=l.username(t),this._sendCommand(2e3,e,"/host "+t,function(o,i){n.once("_promiseHost",function(n,r){n?i(n):o([e,t,~~r])})})},join:function(e){var t=this;return e=l.channel(e),this._sendCommand(this._getPromiseDelay(),null,"JOIN "+e,function(n,o){t.once("_promiseJoin",function(t){t?o(t):n([e])})})},mod:function(e,t){var n=this;return e=l.channel(e),t=l.username(t),this._sendCommand(this._getPromiseDelay(),e,"/mod "+t,function(o,i){n.once("_promiseMod",function(n){n?i(n):o([e,t])})})},mods:function(e){var t=this;return e=l.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/mods",function(n,o){t.once("_promiseMods",function(i,r){i?o(i):(r.forEach(function(n){t.moderators[e]||(t.moderators[e]=[]),t.moderators[e].includes(n)||t.moderators[e].push(n)}),n(r))})})},part:r,leave:r,ping:function(){var e=this;return this._sendCommand(this._getPromiseDelay(),null,"PING",function(t,n){e.latency=new Date,e.pingTimeout=setTimeout(function(){null!==e.ws&&(e.wasCloseCalled=!1,e.log.error("Ping timeout."),e.ws.close(),clearInterval(e.pingLoop),clearTimeout(e.pingTimeout))},l.get(e.opts.connection.timeout,9999)),e.once("_promisePing",function(e){t([parseFloat(e)])})})},r9kbeta:s,r9kmode:s,r9kbetaoff:a,r9kmodeoff:a,raw:function(e){return this._sendCommand(this._getPromiseDelay(),null,e,function(t,n){t([e])})},say:function(e,t){return e=l.channel(e),t.startsWith(".")&&!t.startsWith("..")||t.startsWith("/")||t.startsWith("\\")?"me "===t.substr(1,3)?this.action(e,t.substr(4)):this._sendCommand(this._getPromiseDelay(),e,t,function(n,o){n([e,t])}):this._sendMessage(this._getPromiseDelay(),e,t,function(n,o){n([e,t])})},slow:c,slowmode:c,slowoff:u,slowmodeoff:u,subscribers:function(e){var t=this;return e=l.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/subscribers",function(n,o){t.once("_promiseSubscribers",function(t){t?o(t):n([e])})})},subscribersoff:function(e){var t=this;return e=l.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/subscribersoff",function(n,o){t.once("_promiseSubscribersoff",function(t){t?o(t):n([e])})})},timeout:function(e,t,n,o){var i=this;return e=l.channel(e),t=l.username(t),l.isNull(n)||l.isInteger(n)||(o=n,n=300),n=l.get(n,300),o=l.get(o,""),this._sendCommand(this._getPromiseDelay(),e,"/timeout "+t+" "+n+" "+o,function(r,s){i.once("_promiseTimeout",function(i){i?s(i):r([e,t,~~n,o])})})},unban:function(e,t){var n=this;return e=l.channel(e),t=l.username(t),this._sendCommand(this._getPromiseDelay(),e,"/unban "+t,function(o,i){n.once("_promiseUnban",function(n){n?i(n):o([e,t])})})},unhost:function(e){var t=this;return e=l.channel(e),this._sendCommand(2e3,e,"/unhost",function(n,o){t.once("_promiseUnhost",function(t){t?o(t):n([e])})})},unmod:function(e,t){var n=this;return e=l.channel(e),t=l.username(t),this._sendCommand(this._getPromiseDelay(),e,"/unmod "+t,function(o,i){n.once("_promiseUnmod",function(n){n?i(n):o([e,t])})})},unvip:function(e,t){var n=this;return e=l.channel(e),t=l.username(t),this._sendCommand(this._getPromiseDelay(),e,"/unvip "+t,function(o,i){n.once("_promiseUnvip",function(n){n?i(n):o([e,t])})})},vip:function(e,t){var n=this;return e=l.channel(e),t=l.username(t),this._sendCommand(this._getPromiseDelay(),e,"/vip "+t,function(o,i){n.once("_promiseVip",function(n){n?i(n):o([e,t])})})},vips:function(e){var t=this;return e=l.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/vips",function(e,n){t.once("_promiseVips",function(t,o){t?n(t):e(o)})})},whisper:function(e,t){var n=this;return(e=l.username(e))===this.getUsername()?Promise.reject("Cannot send a whisper to the same account."):this._sendCommand(this._getPromiseDelay(),"#tmijs","/w "+e+" "+t,function(o,i){var r=l.channel(e),s=l.merge({"message-type":"whisper","message-id":null,"thread-id":null,username:n.getUsername()},n.globaluserstate);n.emits(["whisper","message"],[[r,s,t,!0],[r,s,t,!0]]),o([e,t])})}}},{"./utils":10}],5:[function(e,t,n){"use strict";function o(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function r(e){return"object"===(void 0===e?"undefined":a(e))&&null!==e}function s(e){return void 0===e}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.indexOf(e,t)===t}),t.exports=o,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._maxListeners=void 0,o.defaultMaxListeners=10,o.prototype.setMaxListeners=function(e){if(!function(e){return"number"==typeof e}(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},o.prototype.emits=function(e,t){for(var n=0;n<e.length;n++){var o=n<t.length?t[n]:t[t.length-1];this.emit.apply(this,[e[n]].concat(o))}},o.prototype.emit=function(e){var t,n,o,a,c,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||r(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(s(n=this._events[e]))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(r(n))for(a=Array.prototype.slice.call(arguments,1),o=(u=n.slice()).length,c=0;o>c;c++)u[c].apply(this,a);return!0},o.prototype.addListener=function(e,t){var n;if(!i(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?r(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,r(this._events[e])&&!this._events[e].warned&&((n=s(this._maxListeners)?o.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},o.prototype.on=o.prototype.addListener,o.prototype.once=function(e,t){function n(){"_"!==e.charAt(0)||isNaN(e.substr(e.length-1))||(e=e.substring(0,e.length-1)),this.removeListener(e,n),o||(o=!0,t.apply(this,arguments))}if(!i(t))throw TypeError("listener must be a function");var o=!1;if(this._events.hasOwnProperty(e)&&"_"===e.charAt(0)){var r=1,s=e;for(var a in this._events)this._events.hasOwnProperty(a)&&a.startsWith(s)&&r++;e+=r}return n.listener=t,this.on(e,n),this},o.prototype.removeListener=function(e,t){var n,o,s,a;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(s=(n=this._events[e]).length,o=-1,n===t||i(n.listener)&&n.listener===t){if(delete this._events[e],this._events.hasOwnProperty(e+"2")&&"_"===e.charAt(0)){var c=e;for(var u in this._events)this._events.hasOwnProperty(u)&&u.startsWith(c)&&(isNaN(parseInt(u.substr(u.length-1)))||(this._events[e+parseInt(u.substr(u.length-1)-1)]=this._events[u],delete this._events[u]));this._events[e]=this._events[e+"1"],delete this._events[e+"1"]}this._events.removeListener&&this.emit("removeListener",e,t)}else if(r(n)){for(a=s;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){o=a;break}if(0>o)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},o.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(i(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},o.prototype.listeners=function(e){return this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},o.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},o.listenerCount=function(e,t){return e.listenerCount(t)}},{}],6:[function(e,t,n){"use strict";var o=e("./utils");t.exports={levenshtein:function(e,t,n){if((n=o.get(n,!1))||(e=e.toLowerCase(),t=t.toLowerCase()),e==t)return 0;var i=e.length,r=t.length;if(0===i)return 1*r;if(0===r)return 1*i;var s=!1;try{s=!"0"[0]}catch(e){s=!0}s&&(e=e.split(""),t=t.split(""));var a,c,u,l,f,h,m=new Array(r+1),p=new Array(r+1);for(c=0;r>=c;c++)m[c]=1*c;for(a=0;i>a;a++){for(p[0]=m[0]+1,c=0;r>c;c++)(u=m[c]+(e[a]==t[c]?0:1))>(l=m[c+1]+1)&&(u=l),u>(f=p[c]+1)&&(u=f),p[c+1]=u;h=m,m=p,p=h}return m[r]},raffle:{init:function(e){this.raffleChannels||(this.raffleChannels={}),this.raffleChannels[o.channel(e)]||(this.raffleChannels[o.channel(e)]=[])},enter:function(e,t){this.init(e),this.raffleChannels[o.channel(e)].push(t.toLowerCase())},leave:function(e,t){this.init(e);var n=this.raffleChannels[o.channel(e)].indexOf(o.username(t));return n>=0&&(this.raffleChannels[o.channel(e)].splice(n,1),!0)},pick:function(e){this.init(e);var t=this.raffleChannels[o.channel(e)].length;return t>=1?this.raffleChannels[o.channel(e)][Math.floor(Math.random()*t)]:null},reset:function(e){this.init(e),this.raffleChannels[o.channel(e)]=[]},count:function(e){return this.init(e),this.raffleChannels[o.channel(e)]?this.raffleChannels[o.channel(e)].length:0},isParticipating:function(e,t){return this.init(e),this.raffleChannels[o.channel(e)].includes(o.username(t))}},symbols:function(e){for(var t=0,n=0;n<e.length;n++){var o=e.substring(n,n+1).charCodeAt(0);(30>=o||o>=127||65533===o)&&t++}return Math.ceil(t/e.length*100)/100},uppercase:function(e){var t=e.length,n=e.match(/[A-Z]/g);return o.isNull(n)?0:n.length/t}}},{"./utils":10}],7:[function(e,t,n){"use strict";function o(e){return function(t){s[e]>=s[r]&&console.log("["+i.formatDate(new Date)+"] "+e+": "+t)}}var i=e("./utils"),r="info",s={trace:0,debug:1,info:2,warn:3,error:4,fatal:5};t.exports={setLevel:function(e){r=e},trace:o("trace"),debug:o("debug"),info:o("info"),warn:o("warn"),error:o("error"),fatal:o("fatal")}},{"./utils":10}],8:[function(e,t,n){"use strict";var o=e("./utils");t.exports={badges:function(e){if(o.isString(e.badges)){for(var t={},n=e.badges.split(","),i=0;i<n.length;i++){var r=n[i].split("/");if(!r[1])return;t[r[0]]=r[1]}e["badges-raw"]=e.badges,e.badges=t}return o.isBoolean(e.badges)&&(e["badges-raw"]=null),e},emotes:function(e){if(o.isString(e.emotes)){for(var t=e.emotes.split("/"),n={},i=0;i<t.length;i++){var r=t[i].split(":");if(!r[1])return;n[r[0]]=r[1].split(",")}e["emotes-raw"]=e.emotes,e.emotes=n}return o.isBoolean(e.emotes)&&(e["emotes-raw"]=null),e},emoteRegex:function(e,t,n,i){for(var r,s=/\S+/g,a=new RegExp("(\\b|^|s)"+o.unescapeHtml(t)+"(\\b|$|s)");null!==(r=s.exec(e));)a.test(r[0])&&(i[n]=i[n]||[],i[n].push([r.index,s.lastIndex-1]))},emoteString:function(e,t,n,i){for(var r,s=/\S+/g;null!==(r=s.exec(e));)r[0]===o.unescapeHtml(t)&&(i[n]=i[n]||[],i[n].push([r.index,s.lastIndex-1]))},transformEmotes:function(e){var t="";return Object.keys(e).forEach(function(n){t=t+n+":",e[n].forEach(function(e){t=t+e.join("-")+","}),t=t.slice(0,-1)+"/"}),t.slice(0,-1)},msg:function(e){var t={raw:e,tags:{},prefix:null,command:null,params:[]},n=0,o=0;if(64===e.charCodeAt(0)){if(-1===(o=e.indexOf(" ")))return null;for(var i=e.slice(1,o).split(";"),r=0;r<i.length;r++){var s=i[r],a=s.split("=");t.tags[a[0]]=s.substring(s.indexOf("=")+1)||!0}n=o+1}for(;32===e.charCodeAt(n);)n++;if(58===e.charCodeAt(n)){if(-1===(o=e.indexOf(" ",n)))return null;for(t.prefix=e.slice(n+1,o),n=o+1;32===e.charCodeAt(n);)n++}if(-1===(o=e.indexOf(" ",n)))return e.length>n?(t.command=e.slice(n),t):null;for(t.command=e.slice(n,o),n=o+1;32===e.charCodeAt(n);)n++;for(;n<e.length;){if(o=e.indexOf(" ",n),58===e.charCodeAt(n)){t.params.push(e.slice(n+1));break}if(-1===o){if(-1===o){t.params.push(e.slice(n));break}}else for(t.params.push(e.slice(n,o)),n=o+1;32===e.charCodeAt(n);)n++}return t}}},{"./utils":10}],9:[function(e,t,n){"use strict";function o(e){this.queue=[],this.index=0,this.defaultDelay=e||3e3}o.prototype.add=function(e,t){this.queue.push({fn:e,delay:t})},o.prototype.run=function(e){(e||0===e)&&(this.index=e),this.next()},o.prototype.next=function(){var e=this,t=this.index++,n=this.queue[t],o=this.queue[this.index];n&&(n.fn(),o&&setTimeout(function(){e.next()},o.delay||this.defaultDelay))},o.prototype.reset=function(){this.index=0},o.prototype.clear=function(){this.index=0,this.queue=[]},n.queue=o},{}],10:[function(e,t,n){(function(e){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=/^\u0001ACTION ([^\u0001]+)\u0001$/,i=/^(justinfan)(\d+$)/,r=/\\([sn:r\\])/g,s={s:" ",n:"",":":";",r:""},a=t.exports={get:function(e,t){return void 0===e?t:e},isBoolean:function(e){return"boolean"==typeof e},isFinite:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return isFinite(e)&&!isNaN(parseFloat(e))}),isInteger:function(e){return!isNaN(a.toNumber(e,0))},isJustinfan:function(e){return i.test(e)},isNull:function(e){return null===e},isRegex:function(e){return/[\|\\\^\$\*\+\?\:\#]/.test(e)},isString:function(e){return"string"==typeof e},isURL:function(e){return RegExp("^(?:(?:https?|ftp)://)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))\\.?)(?::\\d{2,5})?(?:[/?#]\\S*)?$","i").test(e)},justinfan:function(){return"justinfan"+Math.floor(8e4*Math.random()+1e3)},password:function(e){return["SCHMOOPIIE","",null].includes(e)?"SCHMOOPIIE":"oauth:"+e.toLowerCase().replace("oauth:","")},promiseDelay:function(e){return new Promise(function(t){setTimeout(t,e)})},replaceAll:function(e,t){if(null==e)return null;for(var n in t)e=e.replace(new RegExp(n,"g"),t[n]);return e},unescapeHtml:function(e){return e.replace(/\\&amp\\;/g,"&").replace(/\\&lt\\;/g,"<").replace(/\\&gt\\;/g,">").replace(/\\&quot\\;/g,'"').replace(/\\&#039\\;/g,"'")},unescapeIRC:function(e){return e&&e.includes("\\")?e.replace(r,function(e,t){return t in s?s[t]:t}):e},actionMessage:function(e){return e.match(o)},addWord:function(e,t){return e.length?e+" "+t:e+t},channel:function(e){var t=(e||"").toLowerCase();return"#"===t[0]?t:"#"+t},extractNumber:function(e){for(var t=e.split(" "),n=0;n<t.length;n++)if(a.isInteger(t[n]))return~~t[n];return 0},formatDate:function(e){var t=e.getHours(),n=e.getMinutes();return(t=(10>t?"0":"")+t)+":"+(n=(10>n?"0":"")+n)},inherits:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e},isNode:function(){try{return t.exports="object"===(void 0===e?"undefined":n(e))&&"[object process]"===Object.prototype.toString.call(e)}catch(e){return!1}},isExtension:function(){try{return!!(window.chrome&&chrome.runtime&&chrome.runtime.id)}catch(e){return!1}},merge:Object.assign,splitLine:function(e,t){var n=e.substring(0,t).lastIndexOf(" ");return-1===n&&(n=t-1),[e.substring(0,n),e.substring(n+1)]},toNumber:function(e,t){if(null===e)return 0;var n=Math.pow(10,a.isFinite(t)?t:0);return Math.round(e*n)/n},union:function(e,t){for(var n={},o=[],i=0;i<e.length;i++){n[r=e[i]]||(n[r]=!0,o.push(r))}for(i=0;i<t.length;i++){var r;n[r=t[i]]||(n[r]=!0,o.push(r))}return o},username:function(e){var t=(e||"").toLowerCase();return"#"===t[0]?t.slice(1):t}}}).call(this,e("_process"))},{_process:12}],11:[function(e,t,n){},{}],12:[function(e,t,n){function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function r(e){if(l===setTimeout)return setTimeout(e,0);if((l===o||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function s(){d&&m&&(d=!1,m.length?p=m.concat(p):g=-1,p.length&&a())}function a(){if(!d){var e=r(s);d=!0;for(var t=p.length;t;){for(m=p,p=[];++g<t;)m&&m[g].run();g=-1,t=p.length}m=null,d=!1,function(e){if(f===clearTimeout)return clearTimeout(e);if((f===i||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}(e)}}function c(e,t){this.fun=e,this.array=t}function u(){}var l,f,h=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:o}catch(e){l=o}try{f="function"==typeof clearTimeout?clearTimeout:i}catch(e){f=i}}();var m,p=[],d=!1,g=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new c(e,t)),1!==p.length||d||r(a)},c.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=u,h.addListener=u,h.once=u,h.off=u,h.removeListener=u,h.removeAllListeners=u,h.emit=u,h.prependListener=u,h.prependOnceListener=u,h.listeners=function(e){return[]},h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}]},{},[1])}).call(this,n(111))},1485:function(e,t,n){"use strict";n.r(t);var o={};n.r(o),n.d(o,"SplashScreen",function(){return h}),n.d(o,"Game",function(){return ue});var i={};n.r(i),n.d(i,"debug",function(){return me}),n.d(i,"width",function(){return pe}),n.d(i,"height",function(){return de}),n.d(i,"zoom",function(){return ge}),n.d(i,"resolution",function(){return ye}),n.d(i,"type",function(){return ve}),n.d(i,"pixelArt",function(){return be}),n.d(i,"roundPixels",function(){return _e}),n.d(i,"transparent",function(){return we}),n.d(i,"canvasStyle",function(){return xe}),n.d(i,"physics",function(){return ke}),n.d(i,"loader",function(){return Ce}),n.d(i,"plugins",function(){return Se}),n.d(i,"title",function(){return he.a}),n.d(i,"version",function(){return he.c}),n.d(i,"url",function(){return he.b}),n.d(i,"scene",function(){return Oe});n(1446),n(538),n(273),n(1455),n(90),n(91),n(92);var r=["peasant","princess","knight","wizard_2"];n(274),n(1464);var s=[{name:"raid_alert",file:"audio/alarm.wav",config:{volume:.05}},{name:"victory_short",file:"short-tunes/BRPG_Victory_Stinger.wav",config:{volume:.1}},{name:"victory",file:"short-tunes/BRPG_Victory_Stinger.wav",config:{volume:.1},public:!0},{name:"collect_coin",file:"audio/collect-coin.wav",config:{volume:.05}},{name:"gameover",file:"audio/game-over.wav",config:{volume:.05},public:!0},{name:"cheer",file:"audio/cheer.wav",config:{volume:.15}},{name:"hello",file:"audio/hello.wav",config:{volume:.15},public:!0},{name:"hosted",file:"audio/hosted.wav",config:{volume:.15}},{name:"error",file:"audio/error.wav",config:{volume:.15},public:!0},{name:"airhorn",file:"audio/airhorn.mp3",config:{volume:.1},public:!0},{name:"quack",file:"audio/quack.wav",config:{volume:.2},public:!0},{name:"explode",file:"audio/explode.wav",config:{volume:.1}},{name:"boring",file:"audio/boring.mp3",config:{volume:.15},public:!0},{name:"hmm",file:"audio/hm.mp3",config:{volume:.1},public:!0},{name:"scream",file:"audio/homer-scream.mp3",config:{volume:.1},public:!0},{name:"joke",file:"audio/rimshot.mp3",config:{volume:1},public:!0},{name:"humpday",file:"audio/humpday.mp3",config:{volume:1},public:!0},{name:"sadtrombone",file:"audio/sadtrombone.mp3",config:{volume:1},public:!0}];function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,l(t).call(this,{key:"SplashScreen",pack:{files:[{key:"splash-screen",type:"image"},{key:"progress-bar",type:"image"}]}}))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,Phaser.Scene),n=t,(o=[{key:"preload",value:function(){var e;this.showCover(),this.showProgressBar(),this.load.image("logo"),this.load.multiatlas("characters","characters.json"),this.load.multiatlas("items","items.json"),this.load.image("spiked_ball","spikedball.png"),this.load.atlas("explosion","explosion.png","explosion.json"),e=this,s.map(function(t){return e.load.audio(t.name,t.file)})}},{key:"create",value:function(){var e;e=this,r.forEach(function(t){!function(e,t){var n=t.anims.generateFrameNames("characters",{start:1,end:8,zeroPad:3,prefix:"".concat(e,"/walk/").concat(e,"_walk_"),suffix:".png"});t.anims.create({key:"".concat(e,"_walk"),frames:n,frameRate:5,repeat:-1})}(t,e),function(e,t){var n=t.anims.generateFrameNames("characters",{start:1,end:8,zeroPad:3,prefix:"".concat(e,"/run/").concat(e,"_run_"),suffix:".png"});t.anims.create({key:"".concat(e,"_run"),frames:n,frameRate:10,repeat:-1})}(t,e),function(e,t){var n=t.anims.generateFrameNames("characters",{start:1,end:4,zeroPad:3,prefix:"".concat(e,"/jump/").concat(e,"_jump_"),suffix:".png"});t.anims.create({key:"".concat(e,"_jump"),frames:n,frameRate:10,repeat:0})}(t,e),function(e,t){var n=t.anims.generateFrameNames("characters",{start:1,end:5,zeroPad:3,prefix:"".concat(e,"/die/").concat(e,"_die_"),suffix:".png"});t.anims.create({key:"".concat(e,"_die"),frames:n,frameRate:10,repeat:0})}(t,e)}),function(e){var t=e.anims.generateFrameNames("items",{start:1,end:8,zeroPad:4,prefix:"coin/",suffix:".png"});e.anims.create({key:"coin_spin",frames:t,frameRate:10,repeat:-1})}(e),function(e){var t=e.anims.generateFrameNames("items",{start:0,end:6,zeroPad:4,prefix:"gems/blue/frame",suffix:".png"});e.anims.create({key:"gem_blue_spin",frames:t,frameRate:10,repeat:-1})}(e),function(e){var t=e.anims.generateFrameNames("items",{start:0,end:6,zeroPad:4,prefix:"gems/red/frame",suffix:".png"});e.anims.create({key:"gem_red_spin",frames:t,frameRate:10,repeat:-1})}(e),this.scene.start("Game")}},{key:"showCover",value:function(){this.add.image(0,0,"splash-screen").setOrigin(0)}},{key:"showProgressBar",value:function(){var e=this.textures.get("progress-bar").get(),t=e.width,n=e.height,o=this.add.sprite(82,282,"progress-bar").setOrigin(0);this.load.on("progress",function(e){return o.setCrop(0,0,Math.ceil(e*t),n)})}}])&&c(n.prototype,o),i&&c(n,i),t}();n(553),n(1465);function m(e,t){e.anims.currentAnim.key!==t&&e.anims.play(t)}n(556),n(559);function p(e,t,n,o,i,r,s){try{var a=e[r](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(o,i)}function d(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var g=function(){function e(t,n,o,i,r,s,a){var c=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=t,this.x=n,this.y=o,this.bubbleWidth=i,this.bubbleHeight=r,this.bubblePadding=10,this.bubble=this.buildBubble(),this.buildContent(s,a).then(function(e){c.content=e}),this.positionContent()}var t,n,o;return t=e,(n=[{key:"buildContent",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(t,n){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.substring(0,20),e.abrupt("return",this.scene.add.text(0,0,o,{fontFamily:"Arial",fontSize:20,color:"#000000",align:"center",wordWrap:{width:this.bubbleWidth-2*this.bubblePadding}}));case 2:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(o,i){var r=e.apply(t,n);function s(e){p(r,o,i,s,a,"next",e)}function a(e){p(r,o,i,s,a,"throw",e)}s(void 0)})});return function(e,n){return t.apply(this,arguments)}}()},{key:"buildBubble",value:function(){var e=this.bubbleHeight/4,t=this.scene.add.graphics({x:this.x,y:this.y});t.fillStyle(2236962,.5),t.fillRoundedRect(6,6,this.bubbleWidth,this.bubbleHeight,16),t.fillStyle(16777215,1),t.lineStyle(4,5658198,1),t.strokeRoundedRect(0,0,this.bubbleWidth,this.bubbleHeight,16),t.fillRoundedRect(0,0,this.bubbleWidth,this.bubbleHeight,16);var n=Math.floor(this.bubbleWidth/7),o=this.bubbleHeight,i=Math.floor(this.bubbleWidth/7*2),r=this.bubbleHeight,s=Math.floor(this.bubbleWidth/7),a=Math.floor(this.bubbleHeight+e);return t.lineStyle(4,2236962,.5),t.lineBetween(i-1,r+6,s+2,a),t.fillTriangle(n,o,i,r,s,a),t.lineStyle(2,5658198,1),t.lineBetween(i,r,s,a),t.lineBetween(n,o,s,a),t}},{key:"setPosition",value:function(e,t){this.bubble.setPosition(e,t),this.positionContent()}},{key:"positionContent",value:function(){if(this.content){var e=this.content.getBounds();this.content.setPosition(this.bubble.x+this.bubbleWidth/2-e.width/2,this.bubble.y+this.bubbleHeight/2-e.height/2)}}},{key:"destroy",value:function(){this.bubble.destroy(),this.content.destroy()}}])&&d(t.prototype,n),o&&d(t,o),e}();function y(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var v=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"triggerTheWave",value:function(e,t){e.getChildren().forEach(function(e){var n=e.x,o=e;t.time.delayedCall(n,function(){o.jump()})})}},{key:"chatBubbleAllSprites",value:function(e,t){e.getChildren().forEach(function(e){e.displaySpeechBubble(t)})}},{key:"createOrFindUser",value:function(t,n,o,i){var r=e.userExists(t,o);return r||(r=new S({scene:n,key:"characters",frame:"peasant/standing/peasant.png",user:o,flags:i}),t.add(r),r)}},{key:"userParted",value:function(t,n){var o=e.userExists(t,n);o&&o.remove()}},{key:"userExists",value:function(e,t){return n=function(e){return e.user.toLowerCase()===t.toLowerCase()},e.getChildren().find(n);var n}}],(n=null)&&y(t.prototype,n),o&&y(t,o),e}();function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var C=200,S=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o,i,r=Phaser.Math.Between(0,3e3);return o=this,n=!(i=w(t).call(this,e.scene,r,0,e.key,e.frame))||"object"!==b(i)&&"function"!=typeof i?x(o):i,e.scene.physics.world.enable(x(n)),e.scene.add.existing(x(n)),n.type="user",n.character="peasant",n.user=e.user,n.flags=e.flags,n.flags&&n.flags.subscriber&&(n.character="knight"),n.stillFrame=e.frame,n.body.onCollide=!0,n.body.maxVelocity.x=C,n.nameText,n.speechBubble,n.spinEnabled=!1,n.isDead=!1,n.running=!1,n.setSize(100,200,!0),n.setOrigin(.5),n.anims.play("".concat(n.character,"_walk")),n._timers=[],e.scene.events.on("userChatAction",n.handleChatEvent,x(n)),n.initMovementTimer(),n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,Phaser.GameObjects.Sprite),n=t,(o=[{key:"handleChatEvent",value:function(e){var t=e.user,n=e.message,o=e.flags,i=e.method,r=e.args,s=e.applyAll,a=void 0!==s&&s;if(t.toLowerCase()===this.user.toLowerCase())this.setFlags(o);else if(!a)return;if(!this.isDead){var c=this[i];c&&(r?c.call(this,r):c.call(this,n,o))}}},{key:"waveJump",value:function(){var e=this;this.scene.time.delayedCall(this.x,function(){e.jump()})}},{key:"setFlags",value:function(e){this.flags=e,e.subscriber&&"peasant"===this.character&&(this.character="knight")}},{key:"changeCharacter",value:function(e){this.character=e}},{key:"displayNameText",value:function(){this.nameText||(this.nameText=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{x:.5,y:.5},i=e.add.text(n.x,n.y,t,{fontFamily:"Arial",fontSize:32,color:"#ffff00"});return i.setOrigin(o.x,o.y),i}(this.scene,this.user),this.nameText.setOrigin(.5,1),this.scene.nameTextGroup.add(this.nameText))}},{key:"displaySpeechBubble",value:function(e,t){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e4;this.speechBubble&&this.speechBubble.destroy(),this.speechBubble=new g(this.scene,0,0,125,50,e,t),this._timers.push(this.scene.time.delayedCall(o,function(){n.speechBubble&&n.speechBubble.destroy()}))}},{key:"initMovementTimer",value:function(){var e=Phaser.Math.Between(1e4,2e4);this._timers.push(this.scene.time.addEvent({delay:e,callback:this.randomMovement,callbackScope:this,loop:!1}))}},{key:"randomMovement",value:function(){var e;(e=this,Math.abs(e.body.velocity.x)&&Math.abs(e.body.velocity.y))||(0===Phaser.Math.Between(0,1)?this.walk():this.jump());this.initMovementTimer()}},{key:"walk",value:function(){var e=Phaser.Math.Between(0,1)?100:-100;this.body.setVelocityX(e)}},{key:"startRunning",value:function(){var e=this,t=C;this.flipX&&(t*=-1),this.body.setVelocityX(t),this.running=!0,this._timers.push(this.scene.time.delayedCall(2e3,function(){return e.running=!1},[],this))}},{key:"jump",value:function(){this.body.blocked.down&&this.body.setVelocityY(-400)}},{key:"sendFlyingOnCollide",value:function(){this.body.setVelocityY(-800)}},{key:"makeDbag",value:function(){this.isDbag=!0,this.body.setImmovable(!0),this.startRunning(),this.body.setDragX(0),this.displaySpeechBubble("RAWRR!!!",null,1e4),this._timers.push(this.scene.time.delayedCall(1e4,this.disableDbag,[],this))}},{key:"disableDbag",value:function(){this.isDbag=!1,this.body.setDragX(100),this.body.setImmovable(!1)}},{key:"tackle",value:function(e){var t=this,n=/@(\w+)/g.exec(e);if(n){var o=v.userExists(this.scene.userGroup,n[1]);o&&(this.body.setImmovable(!0),this.body.maxVelocity.x=1e7,this.scene.physics.moveToObject(this,o,150,1e3),this.displaySpeechBubble("BOOLI!!!",null,2e3),this._timers.push(this.scene.time.delayedCall(1100,function(){t.body.setImmovable(!1),t.body.maxVelocity.x=C},[],this)))}}},{key:"spin",value:function(){var e=this;this.spinEnabled=!0,this.displaySpeechBubble("WEEEE!!!",null,5e3),this._timers.push(this.scene.time.delayedCall(5e3,function(){return e.spinEnabled=!1},[],this))}},{key:"makeGiant",value:function(){var e=this;this.setScale(4),this._timers.push(this.scene.time.delayedCall(2e4,function(){return e.setScale(1)},[],this))}},{key:"update",value:function(){var e,t=Math.abs(this.body.velocity.x),n=Math.abs(this.body.velocity.y);if(this.isDead)return this.body.setVelocity(0,300),void this.selectAnimation();if((e=this).body.onFloor()&&e.body.touching.up){var o=100;this.flipX&&(o*=-1),this.body.setVelocity(o,-400)}if(this.spinEnabled){var i=this.flipX?-300:300;this.body.setAngularAcceleration(i)}else this.body.setAngularAcceleration(0),this.setRotation(0);if(this.running){var r=C;this.flipX&&(r*=-1),this.body.setVelocityX(r)}this.selectAnimation(t,n),this.lookInWalkingDirection(),this.moveText()}},{key:"moveText",value:function(){var e=this.y-.5*this.height;this.nameText&&this.nameText.setPosition(this.x,e),this.speechBubble&&this.speechBubble.setPosition(this.x,this.y-this.height)}},{key:"selectAnimation",value:function(e,t){var n;this.isDead?m(this,n="".concat(this.character,"_die")):(t>50&&!this.body.onFloor()&&(n="".concat(this.character,"_jump")),t<50&&(e>0&&e<150?n="".concat(this.character,"_walk"):e>=150&&(n="".concat(this.character,"_run"))),0===this.body.velocity.x&&0===this.body.velocity.y&&(this.anims.stop(),this.setFrame(this.stillFrame)),m(this,n))}},{key:"lookInWalkingDirection",value:function(){if(0!==this.body.velocity.x){var e=this.body.velocity.x<0;this.setFlipX(e)}}},{key:"remove",value:function(){var e=this;this.isDead=!0,this._timers.push(this.scene.time.delayedCall(1e4,function(){e.scene.userGroup.remove(e),e.scene.events.removeListener("userChatAction",e.handleChatEvent,e),e._timers.map(function(e){return e.destroy()}),e.nameText&&(e.scene.nameTextGroup.remove(e.nameText),e.nameText.destroy()),e.destroy()},[],this))}}])&&_(n.prototype,o),i&&_(n,i),t}(),O=n(30),P=n.n(O);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var M=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o,i,r=Phaser.Math.Between(0,3e3);return o=this,(n=!(i=j(t).call(this,e,r,0,"items","coin/0001.png"))||"object"!==E(i)&&"function"!=typeof i?R(o):i).type="bit",e.physics.world.enable(R(n)),e.add.existing(R(n)),n.body.setCollideWorldBounds(!0),n.setOrigin(.5),n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(t,Phaser.GameObjects.Sprite),n=t,(o=[{key:"update",value:function(){this.play("coin_spin",!0)}},{key:"grabbed",value:function(){this.scene.sound.play("collect_coin"),this.scene.coinsGroup.remove(this),this.destroy()}}])&&T(n.prototype,o),i&&T(n,i),t}();function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var B=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o,i,r=Phaser.Math.Between(0,3e3);return o=this,(n=!(i=I(t).call(this,e,r,0,"items","gems/blue/frame0000.png"))||"object"!==N(i)&&"function"!=typeof i?D(o):i).type="bit",e.physics.world.enable(D(n)),e.add.existing(D(n)),n.body.setCollideWorldBounds(!0),n.setOrigin(.5),n.setScale(2),n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(t,Phaser.GameObjects.Sprite),n=t,(o=[{key:"update",value:function(){this.play("gem_blue_spin",!0)}},{key:"grabbed",value:function(){this.scene.sound.play("collect_coin"),this.scene.coinsGroup.remove(this),this.destroy()}}])&&A(n.prototype,o),i&&A(n,i),t}();function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var J=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o,i,r=Phaser.Math.Between(0,3e3);return o=this,(n=!(i=z(t).call(this,e,r,0,"items","gems/red/frame0000.png"))||"object"!==F(i)&&"function"!=typeof i?U(o):i).type="bit",e.physics.world.enable(U(n)),e.add.existing(U(n)),n.body.setCollideWorldBounds(!0),n.setOrigin(.5),n.setScale(3),n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(t,Phaser.GameObjects.Sprite),n=t,(o=[{key:"update",value:function(){this.play("gem_red_spin",!0)}},{key:"grabbed",value:function(){this.scene.sound.play("collect_coin"),this.scene.coinsGroup.remove(this),this.destroy()}}])&&W(n.prototype,o),i&&W(n,i),t}();function V(e,t,n,o,i,r,s){try{var a=e[r](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(o,i)}function q(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var X=function(){function e(t,n,o,i,r,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=t,this.x=n,this.y=o,this.bubbleWidth=i,this.bubbleHeight=r,this.bubblePadding=10,this.bubble=this.buildBubble(),this.buildContent(s),this.setPosition()}var t,n,o;return t=e,(n=[{key:"buildContent",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.content=this.scene.add.text(0,0,t,{fontFamily:"Arial",fontSize:30,color:"#000000",align:"left",wordWrap:{width:this.bubbleWidth-2*this.bubblePadding}});case 1:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(o,i){var r=e.apply(t,n);function s(e){V(r,o,i,s,a,"next",e)}function a(e){V(r,o,i,s,a,"throw",e)}s(void 0)})});return function(e){return t.apply(this,arguments)}}()},{key:"buildBubble",value:function(){var e=this.scene.add.graphics({x:this.x,y:this.y});return e.fillStyle(2236962,.5),e.fillRoundedRect(6,6,this.bubbleWidth,this.bubbleHeight,16),e.fillStyle(16777215,1),e.lineStyle(4,5658198,1),e.strokeRoundedRect(0,0,this.bubbleWidth,this.bubbleHeight,16),e.fillRoundedRect(0,0,this.bubbleWidth,this.bubbleHeight,16),e}},{key:"setPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.x,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.y;this.bubble.setPosition(e,t),this.positionContent()}},{key:"positionContent",value:function(){if(this.content){this.content.getBounds();this.content.setPosition(this.bubble.x+this.bubblePadding,this.bubble.y+this.bubblePadding)}}},{key:"destroy",value:function(){this.bubble.destroy(),this.content.destroy()}}])&&q(t.prototype,n),o&&q(t,o),e}();function Y(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var K=[{command:"run",method:"startRunning",event:"userChatAction"},{command:"jump",method:"jump",event:"userChatAction"},{command:"dbag",method:"makeDbag",event:"userChatAction"},{command:"spin",method:"spin",event:"userChatAction"},{command:"die",method:"remove",event:"userChatAction"},{command:"mushroom",method:"makeGiant",event:"userChatAction"},{command:"booli",method:"tackle",event:"userChatAction"},{command:"wave",method:"waveJump",event:"userChatAction",applyAll:!0},{command:"princess",method:"changeCharacter",event:"userChatAction",args:["princess"]},{command:"wizard",method:"changeCharacter",event:"userChatAction",args:["wizard_2"]},{command:"join",method:"addUserSprite",event:"sceneEvent"},{command:"fireworks",method:"triggerFireworks",event:"sceneEvent"},{command:"spiked_ball",method:"addSpikedBall",event:"sceneEvent"},{command:"controls",method:"displayControls",event:"sceneEvent"},{command:"subs",method:"subCelebrate",event:"sceneEvent",private:!0},{command:"coins",method:"simulateCheer",event:"sceneEvent",private:!0}],$=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=t}var t,n,o;return t=e,(n=[{key:"handler",value:function(e,t,n,o){var i=K.find(function(t){return t.command===e});if(i){if(!i.event)throw new Error("Must provide event name");i.private&&!o.broadcaster||this.scene.events.emit(i.event,{user:t,message:n,flags:o,method:i.method,args:i.args,applyAll:i.applyAll})}}}])&&Y(t.prototype,n),o&&Y(t,o),e}();function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var oe=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o,i,r=Phaser.Math.Between(0,3e3);return o=this,(n=!(i=ee(t).call(this,e,r,0,"spiked_ball"))||"object"!==Z(i)&&"function"!=typeof i?te(o):i).type="ball",e.physics.world.enable(te(n)),e.add.existing(te(n)),n.body.setCollideWorldBounds(!0),n.body.immovable=!0,n.setOrigin(.5),n.scene.ballGroup.add(te(n)),n.scene.time.addEvent({delay:6e4,callback:n.remove,callbackScope:te(n),loop:!1}),n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(t,Phaser.GameObjects.Sprite),n=t,(o=[{key:"update",value:function(){var e=.05;this.body.velocity.x<0?(e*=-1,this.body.velocity.x=-100):this.body.velocity.x=100,this.rotation+=e}},{key:"remove",value:function(){this.scene.ballGroup.remove(this),this.destroy()}}])&&Q(n.prototype,o),i&&Q(n,i),t}();function ie(e){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function re(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function se(e,t){return!t||"object"!==ie(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ae(e){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ue=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=se(this,ae(t).call(this,{key:"Game"}))).bitTotal=0,e}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}(t,Phaser.Scene),n=t,(o=[{key:"create",value:function(){var e,t=this;this.initComfy(),this.userGroup=this.physics.add.group({bounceX:1,bounceY:.5,dragX:100,collideWorldBounds:!0}),this.coinsGroup=this.physics.add.group({bounceX:1,bounceY:.5,dragX:100,collideWorldBounds:!0}),this.ballGroup=this.physics.add.group({bounceX:1,bounceY:.5,velocityX:50,collideWorldBounds:!0}),this.ballGroup.runChildUpdate=!0,this.nameTextGroup=this.physics.add.group({allowGravity:!1,collideWorldBounds:!0}),this.physics.add.collider(this.userGroup),this.physics.add.collider(this.coinsGroup),this.physics.add.collider(this.nameTextGroup),this.physics.add.collider(this.ballGroup),this.physics.add.collider(this.ballGroup,this.userGroup),this.physics.add.overlap(this.coinsGroup,this.userGroup,this.collectCoin),this.physics.world.on("collide",function(e,n){return t.onCollision(e,n)}),this.explosion=((e=this.add.particles("explosion")).createEmitter({frame:["smoke-puff","cloud","smoke-puff"],angle:{min:240,max:300},speed:{min:200,max:300},quantity:6,lifespan:2e3,alpha:{start:1,end:0},scale:{start:1.5,end:.5},on:!1}),e.createEmitter({frame:"red",angle:{min:0,max:360,steps:32},lifespan:1e3,speed:400,quantity:32,scale:{start:.3,end:0},on:!1}),e.createEmitter({frame:"muzzleflash2",lifespan:200,scale:{start:2,end:0},rotate:{start:0,end:180},on:!1}),e),this.setupAudio(),this.chatCommander=new $(this),this.events.on("sceneEvent",this.onEvent,this)}},{key:"setupAudio",value:function(){var e;e=this,s.map(function(t){return e.sound.add(t.name,t.config)})}},{key:"onEvent",value:function(e){var t=e.user,n=e.message,o=e.flags,i=e.method,r=e.args,s=this[i];s&&(r?s.call(this,r):s.call(this,t,n,o))}},{key:"update",value:function(e,t){var n=this;!function(e){var t,n=Phaser.Math.Between(1,10);if(5===n&&e.bitTotal>=500)e.bitTotal-=500,t=new J(e);else if(5===n&&e.bitTotal>=100)e.bitTotal-=100,t=new B(e);else{if(!(e.bitTotal>0))return;e.bitTotal--,t=new M(e)}e.coinsGroup.add(t)}(this),this.userGroup.getChildren().forEach(function(e){n.celebrate&&(Phaser.Math.Between(0,1)&&e.jump());e.update()}),this.coinsGroup.getChildren().forEach(function(e){e.update()}),this.ballGroup.preUpdate(e,t)}},{key:"initComfy",value:function(){var e,t,n=this,o=(e="channel",t=window.location.search,new URLSearchParams(t).get(e)||"talk2megooseman");P.a.Init(o),P.a.onCommand=function(e,t,o,i){n.chatCommander.handler(t,e,o,i),function(e,t,n){var o=s.find(function(e){return e.name===t});o&&(n.broadcaster||o.public)&&e.sound.play(t,o.config)}(n,t,i)},P.a.onJoin=function(e,t){return n.addUserSprite(e)},P.a.onPart=function(e){return v.userParted(n.userGroup,e)},P.a.onChat=function(e,t,o,i,r){var s=n.addUserSprite(e,t,o);s&&(s.displayNameText(),s.displaySpeechBubble(t,r),/^(hi|hey|hello|howdy)$/i.exec(t)&&n.sound.play("hello"))},P.a.onCheer=function(e,t,o){n.sound.play("cheer"),n.bitTotal+=t},P.a.onHosted=function(){return n.sound.play("hosted")},P.a.onRaid=function(){return n.sound.play("raid_alert")},P.a.onSub=function(){return n.subCelebrate()},P.a.onResub=function(){return n.subCelebrate()},P.a.onSubGift=function(){return n.subCelebrate()},P.a.onSubMysteryGift=function(){return n.sound.play("victory_short")},P.a.onGiftSubContinue=function(e,t,o){return n.sound.play("victory_short")}}},{key:"simulateCheer",value:function(e,t){this.bitTotal+=t}},{key:"triggerFireworks",value:function(){for(var e=this,t=Phaser.Math.Between(3,5),n=function(t){var n=Phaser.Math.Between(0,e.game.config.width),o=Phaser.Math.Between(0,e.game.config.height/2);e.time.delayedCall(500*t,function(){e.explosion.emitParticleAt(n,o),e.sound.play("explode")})},o=0;o<t;o++)n(o)}},{key:"addUserSprite",value:function(e,t,n){var o=v.createOrFindUser(this.userGroup,this,e,n);return o.walk(),o}},{key:"addSpikedBall",value:function(){new oe(this)}},{key:"subCelebrate",value:function(){var e=this;this.sound.play("victory_short"),this.celebrate=!0,v.chatBubbleAllSprites(this.userGroup,"Pog"),this.time.delayedCall(1e4,function(){e.triggerFireworks(),e.celebrate=!1})}},{key:"collectCoin",value:function(e,t){e.grabbed()}},{key:"onTextOverlap",value:function(e,t){}},{key:"onCollision",value:function(e,t){"user"===e.type&&"user"===t.type?e.body.immovable?t.sendFlyingOnCollide():t.body.immovable&&e.sendFlyingOnCollide():"ball"===e.type&&"user"===t.type&&t.sendFlyingOnCollide()}},{key:"displayControls",value:function(){var e=["~~CONTROLS~~"];K.forEach(function(t){t.private||e.push("!"+t.command)});var t=new X(this,10,10,300,35*e.length,e.join("\n"));this.time.addEvent({delay:2e4,callback:function(){return t.destroy()},loop:!1})}}])&&re(n.prototype,o),i&&re(n,i),t}(),le=n(560),fe=n.n(le),he=n(182),me=!0,pe=2560,de=1440,ge=1,ye=1,ve=Phaser.AUTO,be=!1,_e=!1,we=!0,xe="display: block; margin: 0 auto;",ke={arcade:{gravity:{y:400}},default:"arcade"},Ce={path:"assets/"},Se={global:[{key:"GameScalePlugin",plugin:fe.a,mapping:"gameScale",data:{maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,mode:"fit"}}],scene:[]},Oe=Object.values(o);function Pe(){return new Phaser.Game(i)}n.d(t,"boot",function(){return Pe}),Pe()},176:function(e,t,n){var o=n(109),i=n(29),r=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:o.version,mode:n(131)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},177:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},178:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},179:function(e,t,n){var o=n(62).f,i=n(89),r=n(25)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,r)&&o(e,r,{configurable:!0,value:t})}},180:function(e,t,n){var o=n(135),i=n(25)("toStringTag"),r="Arguments"==o(function(){return arguments}());e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:r?o(t):"Object"==(s=o(t))&&"function"==typeof t.callee?"Arguments":s}},181:function(e,t){t.f={}.propertyIsEnumerable},182:function(e){e.exports={a:"Twitch Chat Overlay",c:"1.0.0",b:"https://example.com/"}},25:function(e,t,n){var o=n(176)("wks"),i=n(132),r=n(29).Symbol,s="function"==typeof r;(e.exports=function(e){return o[e]||(o[e]=s&&r[e]||(s?r:i)("Symbol."+e))}).store=o},267:function(e,t,n){var o=n(63),i=n(29).document,r=o(i)&&o(i.createElement);e.exports=function(e){return r?i.createElement(e):{}}},268:function(e,t,n){var o=n(63);e.exports=function(e,t){if(!o(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!o(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!o(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!o(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},269:function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},270:function(e,t,n){var o=n(544),i=Math.min;e.exports=function(e){return e>0?i(o(e),9007199254740991):0}},271:function(e,t,n){var o=n(176)("keys"),i=n(132);e.exports=function(e){return o[e]||(o[e]=i(e))}},272:function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},273:function(e,t,n){"use strict";var o=n(180),i={};i[n(25)("toStringTag")]="z",i+""!="[object z]"&&n(88)(Object.prototype,"toString",function(){return"[object "+o(this)+"]"},!0)},274:function(e,t,n){"use strict";var o=n(87),i=n(1461)(5),r=!0;"find"in[]&&Array(1).find(function(){r=!1}),o(o.P+o.F*r,"Array",{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(539)("find")},29:function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},30:function(e,t,n){var o=n(1484),i="",r=null,s={chatModes:{},version:function(){return"@VERSION"},onCommand:function(e,t,n,o,i){console.log("onCommand default handler")},onChat:function(e,t,n,o,i){console.log("onChat default handler")},onWhisper:function(e,t,n,o,i){console.log("onWhisper default handler")},onMessageDeleted:function(e,t){console.log("onMessageDeleted default handler")},onJoin:function(e,t){console.log("onJoin default handler")},onPart:function(e,t){console.log("onPart default handler")},onHosted:function(e,t,n){console.log("onHosted default handler")},onRaid:function(e,t){console.log("onRaid default handler")},onSub:function(e,t,n,o){console.log("onSub default handler")},onResub:function(e,t,n,o,i,r){console.log("onResub default handler")},onSubGift:function(e,t,n,o,i,r){console.log("onSubGift default handler")},onSubMysteryGift:function(e,t,n,o,i){console.log("onSubMysteryGift default handler")},onGiftSubContinue:function(e,t,n){console.log("onGiftSubContinue default handler")},onCheer:function(e,t,n){console.log("onCheer default handler")},onChatMode:function(e,t){console.log("onChatMode default handler")},Say:function(e,t){return!!r&&(t||(t=i),r.say(t,e).catch(function(e){console.log("Error:",e)}),!0)},Whisper:function(e,t){return!!r&&(r.whisper(t,e).catch(function(e){console.log("Error:",e)}),!0)},DeleteMessage:function(e,t){return!!r&&(t||(t=i),r.deletemessage(t,e).catch(function(e){console.log("Error:",e)}),!0)},GetClient:function(){return r},Init:function(e,t,n){if(n=n||[e],!Array.isArray(n))throw new Error("Channels is not an array");i=n[0];var a={connection:{reconnect:!0,secure:!0},channels:n};t&&(a.identity={username:e,password:t}),(r=new o.client(a)).on("roomstate",function(e,t){try{var n=e.replace("#","");s.chatModes[n]=s.chatModes[n]||{},"emote-only"in t&&(s.chatModes[n].emoteOnly=t["emote-only"]),"followers-only"in t&&(s.chatModes[n].followerOnly=t["followers-only"]>=0),"subs-only"in t&&(s.chatModes[n].subOnly=t["subs-only"]),"r9k"in t&&(s.chatModes[n].r9kMode=t.r9k),"slow"in t&&(s.chatModes[n].slowMode=t.slow),s.onChatMode(s.chatModes[n],n)}catch(e){console.log("Error:",e)}}),r.on("message",function(t,n,o,i){try{var r=n["display-name"]||n.username||e,a="#"+n.username===t,c=n.mod,u=n.badges&&void 0!==n.badges.subscriber||n.subscriber,l=n.badges&&"1"===n.badges.vip||!1,f=n["user-id"],h=n.id,m=n["room-id"],p=n.badges,d=n.color,g=n.emotes,y=n["emote-only"]||!1,v=n["message-type"],b={broadcaster:a,mod:c,subscriber:u,vip:l},_={id:h,roomId:m,messageType:v,messageEmotes:g,isEmoteOnly:y,userId:f,username:n.username,displayName:n["display-name"],userColor:d,userBadges:p};if(i||"!"!==o[0])"action"===v||"chat"===v?s.onChat(r,o,b,i,_):"whisper"===v&&s.onWhisper(r,o,b,i,_);else{var w=o.split(/ (.*)/),x=w[0].slice(1).toLowerCase(),k=w[1]||"";s.onCommand(r,x,k,b,_)}}catch(e){console.log("Error:",e)}}),r.on("messagedeleted",function(e,t,n,o){try{var i=o["target-msg-id"],r={id:i,roomId:o["room-id"],username:t,message:n};s.onMessageDeleted(i,r)}catch(e){console.log("Error:",e)}}),r.on("join",function(e,t,n){s.onJoin(t,n)}),r.on("part",function(e,t,n){s.onPart(t,n)}),r.on("hosted",function(e,t,n,o){s.onHosted(t,n,o)}),r.on("raided",function(e,t,n){s.onRaid(t,n)}),r.on("cheer",function(e,t,n){var o=~~t.bits,i={id:t.id,username:t.login,userColor:t.color,userBadges:t.badges,displayName:t["display-name"],messageEmotes:t.emotes,subscriber:t.subscriber};s.onCheer(n,o,i)}),r.on("subscription",function(e,t,n,o,i){var r={id:i.id,roomId:i["room-id"],messageType:i["message-type"],messageEmotes:i.emotes,userId:i["user-id"],username:i.login,displayName:i["display-name"],userColor:i.color,userBadges:i.badges};s.onSub(t,o,n,r)}),r.on("resub",function(e,t,n,o,i,r){var a=~~i["msg-param-cumulative-months"],c={id:i.id,roomId:i["room-id"],messageType:i["message-type"],messageEmotes:i.emotes,userId:i["user-id"],username:i.login,displayName:i["display-name"],userColor:i.color,userBadges:i.badges};s.onResub(t,o,n,a,r,c)}),r.on("subgift",function(e,t,n,o,i,r){var a=~~r["msg-param-sender-count"],c={id:r.id,roomId:r["room-id"],messageType:r["message-type"],messageEmotes:r.emotes,userId:r["user-id"],username:r.login,displayName:r["display-name"],userColor:r.color,userBadges:r.badges,recipientDisplayName:r["msg-param-recipient-display-name"],recipientUsername:r["msg-param-recipient-user-name"],recipientId:r["msg-param-recipient-id"]};s.onSubGift(t,n,o,a,i,c)}),r.on("submysterygift",function(e,t,n,o,i){var r=~~i["msg-param-sender-count"],a={id:i.id,roomId:i["room-id"],messageType:i["message-type"],messageEmotes:i.emotes,userId:i["user-id"],username:i.login,displayName:i["display-name"],userColor:i.color,userBadges:i.badges,recipientDisplayName:i["msg-param-recipient-display-name"],recipientUsername:i["msg-param-recipient-user-name"],recipientId:i["msg-param-recipient-id"],userMassGiftCount:~~i["msg-param-mass-gift-count"]};s.onSubMysteryGift(t,n,r,o,a)}),r.on("giftpaidupgrade",function(e,t,n,o){var i={id:o.id,roomId:o["room-id"],messageType:o["message-type"],messageEmotes:o.emotes,userId:o["user-id"],username:o.login,displayName:o["display-name"],userColor:o.color,userBadges:o.badges,gifterUsername:o["msg-param-sender-login"],gifterDisplayName:o["msg-param-sender-name"]};s.onGiftSubContinue(t,n,i)}),r.on("connected",function(e,t){console.log("Connected:"+e+":"+t)}),r.on("reconnect",function(){console.log("Reconnecting")}),r.connect().catch(function(e){console.log("Error:",e)})}};e.exports&&(e.exports=s),"undefined"!=typeof window&&(window.ComfyJS=s,o=window.tmi)},41:function(e,t,n){var o=n(63);e.exports=function(e){if(!o(e))throw TypeError(e+" is not an object!");return e}},538:function(e,t,n){"use strict";var o=n(539),i=n(1447),r=n(134),s=n(86);e.exports=n(1448)(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),r.Arguments=r.Array,o("keys"),o("values"),o("entries")},539:function(e,t,n){var o=n(25)("unscopables"),i=Array.prototype;null==i[o]&&n(74)(i,o,{}),e.exports=function(e){i[o][e]=!0}},540:function(e,t,n){e.exports=!n(64)&&!n(133)(function(){return 7!=Object.defineProperty(n(267)("div"),"a",{get:function(){return 7}}).a})},541:function(e,t,n){var o=n(135);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==o(e)?e.split(""):Object(e)}},542:function(e,t,n){var o=n(41),i=n(1451),r=n(272),s=n(271)("IE_PROTO"),a=function(){},c=function(){var e,t=n(267)("iframe"),o=r.length;for(t.style.display="none",n(545).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;o--;)delete c.prototype[r[o]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(a.prototype=o(e),n=new a,a.prototype=null,n[s]=e):n=c(),void 0===t?n:i(n,t)}},543:function(e,t,n){var o=n(89),i=n(86),r=n(1452)(!1),s=n(271)("IE_PROTO");e.exports=function(e,t){var n,a=i(e),c=0,u=[];for(n in a)n!=s&&o(a,n)&&u.push(n);for(;t.length>c;)o(a,n=t[c++])&&(~r(u,n)||u.push(n));return u}},544:function(e,t){var n=Math.ceil,o=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?o:n)(e)}},545:function(e,t,n){var o=n(29).document;e.exports=o&&o.documentElement},546:function(e,t,n){var o=n(269);e.exports=function(e){return Object(o(e))}},547:function(e,t,n){var o=n(29),i=n(109),r=n(131),s=n(548),a=n(62).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=r?{}:o.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:s.f(e)})}},548:function(e,t,n){t.f=n(25)},549:function(e,t){t.f=Object.getOwnPropertySymbols},550:function(e,t,n){var o=n(135);e.exports=Array.isArray||function(e){return"Array"==o(e)}},551:function(e,t,n){var o=n(543),i=n(272).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return o(e,i)}},552:function(e,t,n){var o=n(181),i=n(177),r=n(86),s=n(268),a=n(89),c=n(540),u=Object.getOwnPropertyDescriptor;t.f=n(64)?u:function(e,t){if(e=r(e),t=s(t,!0),c)try{return u(e,t)}catch(e){}if(a(e,t))return i(!o.f.call(e,t),e[t])}},553:function(e,t,n){n(64)&&"g"!=/./g.flags&&n(62).f(RegExp.prototype,"flags",{configurable:!0,get:n(554)})},554:function(e,t,n){"use strict";var o=n(41);e.exports=function(){var e=o(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},555:function(e,t,n){"use strict";var o,i,r=n(554),s=RegExp.prototype.exec,a=String.prototype.replace,c=s,u=(o=/a/,i=/b*/g,s.call(o,"a"),s.call(i,"a"),0!==o.lastIndex||0!==i.lastIndex),l=void 0!==/()??/.exec("")[1];(u||l)&&(c=function(e){var t,n,o,i,c=this;return l&&(n=new RegExp("^"+c.source+"$(?!\\s)",r.call(c))),u&&(t=c.lastIndex),o=s.call(c,e),u&&o&&(c.lastIndex=c.global?o.index+o[0].length:t),l&&o&&o.length>1&&a.call(o[0],n,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(o[i]=void 0)}),o}),e.exports=c},556:function(e,t,n){"use strict";var o,i,r,s,a=n(131),c=n(29),u=n(110),l=n(180),f=n(87),h=n(63),m=n(178),p=n(1470),d=n(1471),g=n(1475),y=n(557).set,v=n(1477)(),b=n(558),_=n(1478),w=n(1479),x=n(1480),k=c.TypeError,C=c.process,S=C&&C.versions,O=S&&S.v8||"",P=c.Promise,E="process"==l(C),T=function(){},j=i=b.f,R=!!function(){try{var e=P.resolve(1),t=(e.constructor={})[n(25)("species")]=function(e){e(T,T)};return(E||"function"==typeof PromiseRejectionEvent)&&e.then(T)instanceof t&&0!==O.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(e){}}(),L=function(e){var t;return!(!h(e)||"function"!=typeof(t=e.then))&&t},M=function(e,t){if(!e._n){e._n=!0;var n=e._c;v(function(){for(var o=e._v,i=1==e._s,r=0,s=function(t){var n,r,s,a=i?t.ok:t.fail,c=t.resolve,u=t.reject,l=t.domain;try{a?(i||(2==e._h&&I(e),e._h=1),!0===a?n=o:(l&&l.enter(),n=a(o),l&&(l.exit(),s=!0)),n===t.promise?u(k("Promise-chain cycle")):(r=L(n))?r.call(n,c,u):c(n)):u(o)}catch(e){l&&!s&&l.exit(),u(e)}};n.length>r;)s(n[r++]);e._c=[],e._n=!1,t&&!e._h&&N(e)})}},N=function(e){y.call(c,function(){var t,n,o,i=e._v,r=A(e);if(r&&(t=_(function(){E?C.emit("unhandledRejection",i,e):(n=c.onunhandledrejection)?n({promise:e,reason:i}):(o=c.console)&&o.error&&o.error("Unhandled promise rejection",i)}),e._h=E||A(e)?2:1),e._a=void 0,r&&t.e)throw t.v})},A=function(e){return 1!==e._h&&0===(e._a||e._c).length},I=function(e){y.call(c,function(){var t;E?C.emit("rejectionHandled",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})})},D=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),M(t,!0))},G=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw k("Promise can't be resolved itself");(t=L(e))?v(function(){var o={_w:n,_d:!1};try{t.call(e,u(G,o,1),u(D,o,1))}catch(e){D.call(o,e)}}):(n._v=e,n._s=1,M(n,!1))}catch(e){D.call({_w:n,_d:!1},e)}}};R||(P=function(e){p(this,P,"Promise","_h"),m(e),o.call(this);try{e(u(G,this,1),u(D,this,1))}catch(e){D.call(this,e)}},(o=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(1481)(P.prototype,{then:function(e,t){var n=j(g(this,P));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=E?C.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&M(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),r=function(){var e=new o;this.promise=e,this.resolve=u(G,e,1),this.reject=u(D,e,1)},b.f=j=function(e){return e===P||e===s?new r(e):i(e)}),f(f.G+f.W+f.F*!R,{Promise:P}),n(179)(P,"Promise"),n(1482)("Promise"),s=n(109).Promise,f(f.S+f.F*!R,"Promise",{reject:function(e){var t=j(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(a||!R),"Promise",{resolve:function(e){return x(a&&this===s?P:this,e)}}),f(f.S+f.F*!(R&&n(1483)(function(e){P.all(e).catch(T)})),"Promise",{all:function(e){var t=this,n=j(t),o=n.resolve,i=n.reject,r=_(function(){var n=[],r=0,s=1;d(e,!1,function(e){var a=r++,c=!1;n.push(void 0),s++,t.resolve(e).then(function(e){c||(c=!0,n[a]=e,--s||o(n))},i)}),--s||o(n)});return r.e&&i(r.v),n.promise},race:function(e){var t=this,n=j(t),o=n.reject,i=_(function(){d(e,!1,function(e){t.resolve(e).then(n.resolve,o)})});return i.e&&o(i.v),n.promise}})},557:function(e,t,n){var o,i,r,s=n(110),a=n(1476),c=n(545),u=n(267),l=n(29),f=l.process,h=l.setImmediate,m=l.clearImmediate,p=l.MessageChannel,d=l.Dispatch,g=0,y={},v=function(){var e=+this;if(y.hasOwnProperty(e)){var t=y[e];delete y[e],t()}},b=function(e){v.call(e.data)};h&&m||(h=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return y[++g]=function(){a("function"==typeof e?e:Function(e),t)},o(g),g},m=function(e){delete y[e]},"process"==n(135)(f)?o=function(e){f.nextTick(s(v,e,1))}:d&&d.now?o=function(e){d.now(s(v,e,1))}:p?(r=(i=new p).port2,i.port1.onmessage=b,o=s(r.postMessage,r,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(o=function(e){l.postMessage(e+"","*")},l.addEventListener("message",b,!1)):o="onreadystatechange"in u("script")?function(e){c.appendChild(u("script")).onreadystatechange=function(){c.removeChild(this),v.call(e)}}:function(e){setTimeout(s(v,e,1),0)}),e.exports={set:h,clear:m}},558:function(e,t,n){"use strict";var o=n(178);function i(e){var t,n;this.promise=new e(function(e,o){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=o}),this.resolve=o(t),this.reject=o(n)}e.exports.f=function(e){return new i(e)}},559:function(e,t,n){var o=function(e){"use strict";var t,n=Object.prototype,o=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function c(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,r=Object.create(i.prototype),s=new P(o||[]);return r._invoke=function(e,t,n){var o=l;return function(i,r){if(o===h)throw new Error("Generator is already running");if(o===m){if("throw"===i)throw r;return T()}for(n.method=i,n.arg=r;;){var s=n.delegate;if(s){var a=C(s,n);if(a){if(a===p)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===l)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var c=u(e,t,n);if("normal"===c.type){if(o=n.done?m:f,c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=m,n.method="throw",n.arg=c.arg)}}}(e,n,s),r}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var l="suspendedStart",f="suspendedYield",h="executing",m="completed",p={};function d(){}function g(){}function y(){}var v={};v[r]=function(){return this};var b=Object.getPrototypeOf,_=b&&b(b(E([])));_&&_!==n&&o.call(_,r)&&(v=_);var w=y.prototype=d.prototype=Object.create(v);function x(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function k(e){var t;this._invoke=function(n,i){function r(){return new Promise(function(t,r){!function t(n,i,r,s){var a=u(e[n],e,i);if("throw"!==a.type){var c=a.arg,l=c.value;return l&&"object"==typeof l&&o.call(l,"__await")?Promise.resolve(l.__await).then(function(e){t("next",e,r,s)},function(e){t("throw",e,r,s)}):Promise.resolve(l).then(function(e){c.value=e,r(c)},function(e){return t("throw",e,r,s)})}s(a.arg)}(n,i,t,r)})}return t=t?t.then(r,r):r()}}function C(e,n){var o=e.iterator[n.method];if(o===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method))return p;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var i=u(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,p;var r=i.arg;return r?r.done?(n[e.resultName]=r.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,p):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function E(e){if(e){var n=e[r];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,s=function n(){for(;++i<e.length;)if(o.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return s.next=s}}return{next:T}}function T(){return{value:t,done:!0}}return g.prototype=w.constructor=y,y.constructor=g,y[a]=g.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,a in e||(e[a]="GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},x(k.prototype),k.prototype[s]=function(){return this},e.AsyncIterator=k,e.async=function(t,n,o,i){var r=new k(c(t,n,o,i));return e.isGeneratorFunction(n)?r:r.next().then(function(e){return e.done?e.value:r.next()})},x(w),w[a]="Generator",w[r]=function(){return this},w.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=E,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(o,i){return a.type="throw",a.arg=e,n.next=o,i&&(n.method="next",n.arg=t),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var s=this.tryEntries[r],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var c=o.call(s,"catchLoc"),u=o.call(s,"finallyLoc");if(c&&u){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var s=r?r.completion:{};return s.type=e,s.arg=t,r?(this.method="next",this.next=r.finallyLoc,p):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var i=o.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,o){return this.delegate={iterator:E(e),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=t),p}},e}(e.exports);try{regeneratorRuntime=o}catch(e){Function("r","regeneratorRuntime = r")(o)}},560:function(e,t,n){var o;e.exports=function e(t,n,i){function r(a,c){if(!n[a]){if(!t[a]){var u="function"==typeof o&&o;if(!c&&u)return o(a,!0);if(s)return s(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[a]={exports:{}};t[a][0].call(f.exports,function(e){var n=t[a][1][e];return r(n||e)},f,f.exports,e,t,n,i)}return n[a].exports}for(var s="function"==typeof o&&o,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t,n){"use strict";var o=Phaser.Math.Clamp,i=Phaser.Math.Snap.Floor,r=window,s=new Phaser.Geom.Rectangle,a=new Phaser.Class({Extends:Phaser.Plugins.BasePlugin,debounce:!1,debounceDelay:50,debounceTimer:null,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,mode:"fit",resizeCameras:!0,scale:null,snap:null,init:function(e){this.onResize=this.onResize.bind(this),this.setPendingRefresh=this.setPendingRefresh.bind(this),this.game.canvas.style.transformOrigin="0 0",e&&this.configure(e)},start:function(){this.game.events.on("prestep",this.gamePreStep,this),r.addEventListener("resize",this.onResize),this.setPendingRefresh()},stop:function(){this.game.events.off("prestep",this.gamePreStep,this),r.removeEventListener("resize",this.onResize)},gamePreStep:function(e,t){this.debounce&&this.debounceTimer>0&&(this.debounceTimer-=t,this.debounceTimer<=0&&this.setPendingRefresh()),this.needsRefresh&&this.refresh()},refresh:function(){var e=this.mode,t=this.game.config,n=this.getBounds(),o=this.calcAvailWidth(n.width,!0),i=this.calcAvailHeight(n.height,!0);"resize"!==e&&"resize-and-fit"!==e||o===t.width&&i===t.height||this.resizeGame(o,i),"resize-and-fit"===e&&(o=this.calcAvailWidth(n.width,!1),i=this.calcAvailHeight(n.height,!1)),"fit"===e||"resize-and-fit"===e?this.scaleCanvas(Math.min(o/t.width,i/t.height)):this.scaleCanvas(1),this.needsRefresh=!1},getBounds:function(){return this.game.config.parent?this.game.canvas.parentNode.getBoundingClientRect():s.setSize(r.innerWidth,r.innerHeight)},calcAvailWidth:function(e,t){return t&&(e=o(e,this.minWidth,this.maxWidth)),this.snap&&(e=i(e,this.snap)),e},calcAvailHeight:function(e,t){return t&&(e=o(e,this.minHeight,this.maxHeight)),this.snap&&(e=i(e,this.snap)),e},resizeGame:function(e,t){this.game.resize(e,t),this.resizeCameras&&this._resizeCameras(e,t)},_resizeCameras:function(e,t){this.game.scene.scenes.forEach(function(n){n.cameras.resize(e,t)})},scaleCanvas:function(e){e!==this.scale&&(this.game.canvas.style.transform="scale("+e+")",this.scale=e)},onResize:function(){this.setPendingRefresh(),this.debounce&&(this.needsRefresh=!1,this.debounceTimer=this.debounceDelay)},setMode:function(e){this.mode=e,this.setPendingRefresh()},setPendingRefresh:function(){this.needsRefresh=!0},configure:function(e){Object.assign(this,e),this.setPendingRefresh()},toJSON:function(){return{debounce:this.debounce,debounceDelay:this.debounceDelay,maxHeight:this.maxHeight,maxWidth:this.maxWidth,minHeight:this.minHeight,minWidth:this.minWidth,mode:this.mode,resizeCameras:this.resizeCameras,snap:this.snap}}});a.FIT="fit",a.NONE="none",a.RESIZE="resize",a.RESIZE_AND_FIT="resize-and-fit",Object.seal(a.prototype),Phaser.Plugins.GameScalePlugin=a,t.exports=a},{}]},{},[1])(1)},62:function(e,t,n){var o=n(41),i=n(540),r=n(268),s=Object.defineProperty;t.f=n(64)?Object.defineProperty:function(e,t,n){if(o(e),t=r(t,!0),o(n),i)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},63:function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},64:function(e,t,n){e.exports=!n(133)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},74:function(e,t,n){var o=n(62),i=n(177);e.exports=n(64)?function(e,t,n){return o.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},86:function(e,t,n){var o=n(541),i=n(269);e.exports=function(e){return o(i(e))}},87:function(e,t,n){var o=n(29),i=n(109),r=n(74),s=n(88),a=n(110),c=function(e,t,n){var u,l,f,h,m=e&c.F,p=e&c.G,d=e&c.S,g=e&c.P,y=e&c.B,v=p?o:d?o[t]||(o[t]={}):(o[t]||{}).prototype,b=p?i:i[t]||(i[t]={}),_=b.prototype||(b.prototype={});for(u in p&&(n=t),n)f=((l=!m&&v&&void 0!==v[u])?v:n)[u],h=y&&l?a(f,o):g&&"function"==typeof f?a(Function.call,f):f,v&&s(v,u,f,e&c.U),b[u]!=f&&r(b,u,h),g&&_[u]!=f&&(_[u]=f)};o.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},88:function(e,t,n){var o=n(29),i=n(74),r=n(89),s=n(132)("src"),a=n(1449),c=(""+a).split("toString");n(109).inspectSource=function(e){return a.call(e)},(e.exports=function(e,t,n,a){var u="function"==typeof n;u&&(r(n,"name")||i(n,"name",t)),e[t]!==n&&(u&&(r(n,s)||i(n,s,e[t]?""+e[t]:c.join(String(t)))),e===o?e[t]=n:a?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[s]||a.call(this)})},89:function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},90:function(e,t,n){n(547)("asyncIterator")},91:function(e,t,n){"use strict";var o=n(29),i=n(89),r=n(64),s=n(87),a=n(88),c=n(1457).KEY,u=n(133),l=n(176),f=n(179),h=n(132),m=n(25),p=n(548),d=n(547),g=n(1458),y=n(550),v=n(41),b=n(63),_=n(86),w=n(268),x=n(177),k=n(542),C=n(1459),S=n(552),O=n(62),P=n(136),E=S.f,T=O.f,j=C.f,R=o.Symbol,L=o.JSON,M=L&&L.stringify,N=m("_hidden"),A=m("toPrimitive"),I={}.propertyIsEnumerable,D=l("symbol-registry"),G=l("symbols"),B=l("op-symbols"),F=Object.prototype,W="function"==typeof R,z=o.QObject,U=!z||!z.prototype||!z.prototype.findChild,H=r&&u(function(){return 7!=k(T({},"a",{get:function(){return T(this,"a",{value:7}).a}})).a})?function(e,t,n){var o=E(F,t);o&&delete F[t],T(e,t,n),o&&e!==F&&T(F,t,o)}:T,J=function(e){var t=G[e]=k(R.prototype);return t._k=e,t},V=W&&"symbol"==typeof R.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof R},q=function(e,t,n){return e===F&&q(B,t,n),v(e),t=w(t,!0),v(n),i(G,t)?(n.enumerable?(i(e,N)&&e[N][t]&&(e[N][t]=!1),n=k(n,{enumerable:x(0,!1)})):(i(e,N)||T(e,N,x(1,{})),e[N][t]=!0),H(e,t,n)):T(e,t,n)},X=function(e,t){v(e);for(var n,o=g(t=_(t)),i=0,r=o.length;r>i;)q(e,n=o[i++],t[n]);return e},Y=function(e){var t=I.call(this,e=w(e,!0));return!(this===F&&i(G,e)&&!i(B,e))&&(!(t||!i(this,e)||!i(G,e)||i(this,N)&&this[N][e])||t)},K=function(e,t){if(e=_(e),t=w(t,!0),e!==F||!i(G,t)||i(B,t)){var n=E(e,t);return!n||!i(G,t)||i(e,N)&&e[N][t]||(n.enumerable=!0),n}},$=function(e){for(var t,n=j(_(e)),o=[],r=0;n.length>r;)i(G,t=n[r++])||t==N||t==c||o.push(t);return o},Z=function(e){for(var t,n=e===F,o=j(n?B:_(e)),r=[],s=0;o.length>s;)!i(G,t=o[s++])||n&&!i(F,t)||r.push(G[t]);return r};W||(a((R=function(){if(this instanceof R)throw TypeError("Symbol is not a constructor!");var e=h(arguments.length>0?arguments[0]:void 0),t=function(n){this===F&&t.call(B,n),i(this,N)&&i(this[N],e)&&(this[N][e]=!1),H(this,e,x(1,n))};return r&&U&&H(F,e,{configurable:!0,set:t}),J(e)}).prototype,"toString",function(){return this._k}),S.f=K,O.f=q,n(551).f=C.f=$,n(181).f=Y,n(549).f=Z,r&&!n(131)&&a(F,"propertyIsEnumerable",Y,!0),p.f=function(e){return J(m(e))}),s(s.G+s.W+s.F*!W,{Symbol:R});for(var Q="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;Q.length>ee;)m(Q[ee++]);for(var te=P(m.store),ne=0;te.length>ne;)d(te[ne++]);s(s.S+s.F*!W,"Symbol",{for:function(e){return i(D,e+="")?D[e]:D[e]=R(e)},keyFor:function(e){if(!V(e))throw TypeError(e+" is not a symbol!");for(var t in D)if(D[t]===e)return t},useSetter:function(){U=!0},useSimple:function(){U=!1}}),s(s.S+s.F*!W,"Object",{create:function(e,t){return void 0===t?k(e):X(k(e),t)},defineProperty:q,defineProperties:X,getOwnPropertyDescriptor:K,getOwnPropertyNames:$,getOwnPropertySymbols:Z}),L&&s(s.S+s.F*(!W||u(function(){var e=R();return"[null]"!=M([e])||"{}"!=M({a:e})||"{}"!=M(Object(e))})),"JSON",{stringify:function(e){for(var t,n,o=[e],i=1;arguments.length>i;)o.push(arguments[i++]);if(n=t=o[1],(b(t)||void 0!==e)&&!V(e))return y(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!V(t))return t}),o[1]=t,M.apply(L,o)}}),R.prototype[A]||n(74)(R.prototype,A,R.prototype.valueOf),f(R,"Symbol"),f(Math,"Math",!0),f(o.JSON,"JSON",!0)},92:function(e,t,n){var o=n(87);o(o.S,"Object",{setPrototypeOf:n(1460).set})}});
//# sourceMappingURL=app-8a74a9bb4445d5d116d7.bundle.js.map